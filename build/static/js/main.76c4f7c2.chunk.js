(this["webpackJsonptemplate-react-chakraui-eslint-eslint"]=this["webpackJsonptemplate-react-chakraui-eslint-eslint"]||[]).push([[5],{120:function(e,t,a){},121:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),i=(a(120),a(37)),u=a(56),s=a(9),d=a(67),l=(a(121),a(6)),f=function(e){var t=e.color;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(d.b,{w:"100%",h:"100vh",children:Object(l.jsx)(d.b,{color:"white"==t?"#fff":"#304580",className:"bigLoader"})})})},p=function(e){var t=e.component;return sessionStorage.getItem("token")?t:Object(l.jsx)(s.a,{to:"/login"})},h=r.a.lazy((function(){return Promise.all([a.e(12),a.e(14)]).then(a.bind(null,278))})),m=r.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(9)]).then(a.bind(null,282))})),g=r.a.lazy((function(){return Promise.all([a.e(0),a.e(4),a.e(13)]).then(a.bind(null,276))})),b=r.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(4),a.e(11)]).then(a.bind(null,281))})),w=r.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(15),a.e(10)]).then(a.bind(null,280))})),D=r.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(8)]).then(a.bind(null,279))}));var v=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(n.Suspense,{fallback:Object(l.jsx)(f,{}),children:Object(l.jsx)(u.a,{children:Object(l.jsxs)(s.d,{children:[Object(l.jsx)(s.b,{path:"/",element:Object(l.jsx)(p,{component:Object(l.jsx)(h,{title:"Manejo de Propiedades",children:Object(l.jsx)(m,{})})})}),Object(l.jsx)(s.b,{path:"/login",element:Object(l.jsx)(g,{})}),Object(l.jsx)(s.b,{path:"/usuarios",element:Object(l.jsx)(p,{component:Object(l.jsx)(h,{title:"Manejo de Usuarios",children:Object(l.jsx)(b,{})})})}),Object(l.jsx)(s.b,{path:"/propiedades",element:Object(l.jsx)(p,{component:Object(l.jsx)(h,{title:"Manejo de Propiedades",children:Object(l.jsx)(m,{})})})}),Object(l.jsx)(s.b,{path:"/clientes",element:Object(l.jsx)(p,{component:Object(l.jsx)(h,{title:"Manejo de Clientes",children:Object(l.jsx)(w,{})})})}),Object(l.jsx)(s.b,{path:"/reportes",element:Object(l.jsx)(p,{component:Object(l.jsx)(h,{title:"Reportes",children:Object(l.jsx)(D,{})})})})]})})})})},j=a(54),O=a(55),y=a(12),A=a(4),x=a.n(A),_=a(8),k=a(11),P=a(7),Q=a.n(P),T=a(5),S=a(46),E=function(e){var t=Object(n.useState)([]),a=Object(k.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(null),i=Object(k.a)(o,2),u=i[0],s=i[1],d=Object(n.useState)([]),f=Object(k.a)(d,2),p=f[0],h=f[1],m=Object(n.useState)([]),g=Object(k.a)(m,2),b=g[0],w=g[1],D=Object(n.useState)([]),v=Object(k.a)(D,2),j=v[0],A=v[1],P=Object(n.useState)({}),E=Object(k.a)(P,2),M=E[0],H=E[1],L=Object(n.useState)(!0),C=Object(k.a)(L,2),Y=C[0],W=C[1],F=Object(n.useState)(!0),R=Object(k.a)(F,2),U=R[0],I=R[1],B=Object(n.useState)(!1),q=Object(k.a)(B,2),z=q[0],N=q[1];Object(n.useEffect)((function(){G()}),[]),Object(n.useEffect)((function(){}),[]);var G=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,Q.a.get("http://66.97.43.140:4000/properties").then((function(e){c(e.data),W(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.address=a,e.next=3,Q.a.post("http://66.97.43.140:4000/properties",t).then((function(e){return 201===e.status?(Object(T.a)("Propiedad agregada correctamente","Has agregado una nueva propiedad","success"),e.data.address=a,s(null),c([].concat(Object(y.a)(r),[e.data]))):null})).catch((function(e){Object(T.a)("Error al agregar la propiedad","Ocurri\xf3 un error intentado agregar la propiedad","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.find((function(e){return e.address._id===a}))){e.next=3;break}return e.abrupt("return",X(t));case 3:return e.next=5,Q.a.put("http://66.97.43.140:4000/addresses/".concat(a),t).then((function(e){if(200===e.status){Object(T.a)("Direcci\xf3n editada correctamente","Has editado una direcci\xf3n","success"),n.address=e.data,w([].concat(Object(y.a)(b),[e.data]));var t=r.map((function(t){return t._id===n._id?Object(O.a)(Object(O.a)({},n),{},{address:e.data}):t}));c(t)}})).catch((function(e){Object(T.a)("Error al editar la direcci\xf3n","Ocurri\xf3 un error intentado editar la direcci\xf3n","error")}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/properties/".concat(t._id)).then((function(e){return 200===e.status?(Object(T.a)("Propiedad eliminada correctamente","Has eliminado una propiedad","success"),s(null),c(r.filter((function(e){return e._id!==t._id})))):null})).catch((function(e){Object(T.a)("Error al eliminar la propiedad","Ocurri\xf3 un error intentado eliminar la propiedad","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.post("http://66.97.43.140:4000/addresses",t).then((function(e){return 201===e.status?(Object(T.a)("Direcci\xf3n agregada correctamente","Has agregado una nueva direcci\xf3n","success"),s(e.data),w([].concat(Object(y.a)(b),[e.data]))):null})).catch((function(e){Object(T.a)("Error al agregar la direcci\xf3n","Ocurri\xf3 un error intentado agregar la direcci\xf3n","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(_.a)(x.a.mark((function e(t,a,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/properties/".concat(a._id),t).then((function(e){if(200===e.status){n||Object(T.a)("Detalles agregados correctamente","Has agregado detalles a una propiedad","success"),null!=t.type&&(a.type[0]=t.type),null!=t.media&&(a.media=t.media),null!=t.virtualTour&&(a.virtualTour=t.virtualTour),null!=t.isForRent&&(a.isForRent=t.isForRent),null!=t.isForSale&&(a.isForSale=t.isForSale),null!=t.saleDate?a.saleDate=t.saleDate:a.saleDate=null,null!=t.rentDate?a.rentDate=t.rentDate:a.rentDate=null,null!=t.name&&(a.name=t.name),null!=t.comment&&(a.comment=t.comment),null!=t.description&&(a.description=t.description);var o=r.map((function(e){return e._id===a._id?a:e}));c(o)}})).catch((function(e){Object(T.a)("Error al agregar detalles a la propiedad","Ocurri\xf3 un error intentado agregar detalles a la propiedad","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/properties/".concat(a._id),{virtualTour:t}).then((function(e){if(200===e.status){Object(T.a)("Virtual tour modificado correctamente","Has modificado el virtual tour de una propiedad","success"),a.virtualTour=t;var n=r.map((function(e){return e._id===a._id?a:e}));c(n)}})).catch((function(e){Object(T.a)("Error al modificar virtual tour","Ocurri\xf3 un error intentado modificar el virtual tour de una propiedad","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Date((new Date).toDateString()),(r=new Date(t.startDate.toDateString()))<=n?t.status="Activa":r>n&&(t.status="Pendiente"),t.property=a,0!=t.mercadoLibre){e.next=9;break}return e.next=7,Q.a.post("http://66.97.43.140:4000/posts",t).then((function(e){return 201===e.status?(Object(T.a)("Publicaci\xf3n creada correctamente","Has creado una nueva publicaci\xf3n","success"),h([].concat(Object(y.a)(p),[e.data]))):null})).catch((function(e){Object(T.a)("Error al crear la publicaci\xf3n","Ocurri\xf3 un error intentado crear la publicaci\xf3n","error")}));case 7:e.next=15;break;case 9:if(1!=t.isForSale){e.next=12;break}return e.next=12,Q.a.post("http://66.97.43.140:4000/posts",t).then((function(e){return 201===e.status?(Object(T.a)("Publicaci\xf3n de venta creada correctamente","Has creado una nueva publicaci\xf3n de venta","success",7e3),h([].concat(Object(y.a)(p),[e.data])),1==t.mercadoLibre&&te(e.data,"venta")):null})).catch((function(e){500!=e.status&&400!=e.status||Object(T.a)("Error al crear la publicaci\xf3n de venta","Ocurri\xf3 un error intentado crear la publicaci\xf3n de venta","error",7e3)}));case 12:if(1!=t.isForRent){e.next=15;break}return e.next=15,Q.a.post("http://66.97.43.140:4000/posts",t).then((function(e){return 201===e.status?(Object(T.a)("Publicaci\xf3n de alquiler creada correctamente","Has creado una nueva publicaci\xf3n de alquiler","success",7e3),h([].concat(Object(y.a)(p),[e.data])),1==t.mercadoLibre&&te(e.data,"alquiler")):null})).catch((function(e){500!=e.status&&400!=e.status||Object(T.a)("Error al crear la publicaci\xf3n de alquiler","Ocurri\xf3 un error intentado crear la publicaci\xf3n de alquiler","error",7e3)}));case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n,c,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.find((function(e){return e._id===t.property})),"venta"!=a){e.next=5;break}return c={title:t.title,category_id:"MLU1468",price:t.forSalePrice,currency_id:"USD",available_quantity:1,buying_mode:"classified",listing_type_id:"silver",condition:"new",start_time:t.startDate,pictures:t.media.map((function(e){return{source:e.url}})),seller_contact:{contact:"Ian Rodr\xedguez Propiedades",area_code:"011",phone:"11 66 42 34 62",email:"info@ianrodriguezprop.com"},location:{address_line:n.address.street+", "+n.address.city+", "+n.address.state+", "+n.address.country+", ",zip_code:null,neighborhood:{id:"TUxBQlBBUzgyNjBa"},latitude:null,longitude:null},attributes:[{id:"FULL_BATHROOMS",value_name:n.features.filter((function(e){return"Ba\xf1o"===e.type[0]})).length},{id:"PARKING_LOTS",value_name:n.features.filter((function(e){return"Garaje"===e.type[0]})).length},{id:"ROOMS",value_name:0},{id:"BEDROOMS",value_name:n.features.filter((function(e){return"Dormitorio"===e.type[0]})).length},{id:"COVERED_AREA",value_name:n.buildedSurface+" "+n.unitMeasurement},{id:"TOTAL_AREA",value_name:n.totalSurface+" "+n.unitMeasurement}]},e.next=5,Q.a.post("http://66.97.43.140:4000/mercadolibre",c).then((function(e){201==e.status&&(Object(T.a)("Publicaci\xf3n en MercadoLibre para venta creada correctamente","Deber\xe1s efectuar el pago en MercadoLibre para que la publicaci\xf3n sea visible.","success",7e3),ue(t,e.data.permalink))})).catch((function(e){500!=e.status&&400!=e.status||Object(T.a)("Error al crear la publicaci\xf3n para venta en MercadoLibre","Ocurri\xf3 un error intentado crear la publicaci\xf3n en MercadoLibre","error",7e3)}));case 5:if("alquiler"!==a){e.next=9;break}return o={title:t.title,category_id:"MLU1467",price:t.forRentPrice,currency_id:"USD",available_quantity:1,buying_mode:"classified",listing_type_id:"silver",condition:"new",start_time:t.startDate,pictures:t.media.map((function(e){return{source:e.url}})),seller_contact:{contact:"Ian Rodr\xedguez Propiedades",area_code:"011",phone:"11 66 42 34 62",email:"info@ianrodriguezprop.com"},location:{address_line:n.address.street+", "+n.address.city+", "+n.address.state+", "+n.address.country+", ",zip_code:null,neighborhood:{id:"TUxBQlBBUzgyNjBa"},latitude:null,longitude:null},attributes:[{id:"FULL_BATHROOMS",value_name:n.features.filter((function(e){return"Ba\xf1o"===e.type[0]})).length},{id:"PARKING_LOTS",value_name:n.features.filter((function(e){return"Garaje"===e.type[0]})).length},{id:"ROOMS",value_name:0},{id:"BEDROOMS",value_name:n.features.filter((function(e){return"Dormitorio"===e.type[0]})).length},{id:"COVERED_AREA",value_name:n.buildedSurface+" "+n.unitMeasurement},{id:"TOTAL_AREA",value_name:n.totalSurface+" "+n.unitMeasurement}]},e.next=9,Q.a.post("http://66.97.43.140:4000/mercadolibre",o).then((function(e){201===e.status&&(Object(T.a)("Publicaci\xf3n en MercadoLibre para alquiler creada correctamente","Deber\xe1s efectuar el pago en MercadoLibre para que la publicaci\xf3n sea visible.","success",7e3),ue(t,e.data.permalink))})).catch((function(e){500!=e.status&&400!=e.status||Object(T.a)("Error al crear la publicaci\xf3n para alquiler en MercadoLibre","Ocurri\xf3 un error intentado crear la publicaci\xf3n en MercadoLibre","error",7e3)}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ae=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,Q.a.get("http://66.97.43.140:4000/posts/byPropertyId/".concat(t)).then((function(e){h(e.data),I(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(_.a)(x.a.mark((function e(t,a,n){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.find((function(e){return e._id===n})),e.next=3,Q.a.put("http://66.97.43.140:4000/posts/".concat(a),t).then((function(e){if(200===e.status){Object(T.a)("Publicaci\xf3n editada correctamente","Has editado una publicaci\xf3n","success");var t=[];e.data.media.map((function(e){if(c.media.indexOf(e)){var a=c.media.find((function(t){return t._id===e}));t.push(a)}})),e.data.media=t,h([].concat(Object(y.a)(p.filter((function(e){return e._id!==a}))),[e.data])),"Finalizada"!=e.data.status&&"Pausada"!=e.data.status||ae(n)}})).catch((function(e){500!=e.status&&400!=e.status||Object(T.a)("Error al editar la publicaci\xf3n","Ocurri\xf3 un error intentado editar la publicaci\xf3n","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),re=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/posts/".concat(t._id)).then((function(e){return 200===e.status?(Object(T.a)("Publicaci\xf3n eliminada correctamente","Has eliminado una publicaci\xf3n","success"),h(p.filter((function(t){return t._id!==e.data._id})))):null})).catch((function(e){Object(T.a)("Error al eliminar la publicaci\xf3n","Ocurri\xf3 un error intentado eliminar la publicaci\xf3n","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.find((function(e){return e._id===a})),t.property=a,e.next=4,Q.a.post("http://66.97.43.140:4000/features",t).then((function(e){if(201===e.status){Object(T.a)("Caracter\xedstica agregada correctamente","Has agregado una nueva caracter\xedstica","success");var t=r.map((function(e){return e._id===a?n:e}));n.features=[].concat(Object(y.a)(n.features),[e.data]),c(t),de(e.data,a)}})).catch((function(e){Object(T.a)("Error al agregar la caracter\xedstica","Ocurri\xf3 un error intentado agregar la caracter\xedstica","error")}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(_.a)(x.a.mark((function e(t,a,n){var o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.find((function(e){return e._id===n})),e.next=3,Q.a.put("http://66.97.43.140:4000/features/".concat(a),t).then((function(e){if(200===e.status){Object(T.a)("Caracter\xedstica editada correctamente","Has editado una caracter\xedstica","success"),o.features=[].concat(Object(y.a)(o.features.filter((function(e){return e._id!==a}))),[e.data]);var t=r.map((function(e){return e._id===n?o:e}));c(t),de(e.data,n)}})).catch((function(e){Object(T.a)("Error al editar la caracter\xedstica","Ocurri\xf3 un error intentado editar la caracter\xedstica","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/posts/".concat(t._id),{isFeatured:a}).then((function(e){200===e.status||201===e.status?(Object(T.a)(1==a?"Publicaci\xf3n marcada como destacada correctamente":"Publicaci\xf3n quitada de favoritos correctamente",1==a?"Has marcado esta publicaci\xf3n como destacada":"Has quitado esta publicaci\xf3n de destacados","success"),t.isFeatured=a,h([].concat(Object(y.a)(p.filter((function(t){return t._id!==e.data._id}))),[t]))):Object(T.a)("Error al marcar la publicaci\xf3n como destacada","Ocurri\xf3 un error intentado marcar la publicaci\xf3n como destacada","error")})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ue=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/posts/".concat(t._id),{mercadoLibreLink:a}).then((function(e){200!==e.status&&201!==e.status||(t.mercadoLibreLink=a,h([].concat(Object(y.a)(p),[t])))})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),se=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/features/".concat(t._id)).then((function(e){if(200===e.status){Object(T.a)("Caracter\xedstica eliminada correctamente","Has eliminado una caracter\xedstica","success");var n=r.map((function(e){return e._id===a._id?a:e}));a.features=a.features.filter((function(e){return e._id!==t._id})),c(n),de(e.data,a._id)}})).catch((function(e){Object(T.a)("Error al eliminar la caracter\xedstica","Ocurri\xf3 un error intentado eliminar la caracter\xedstica","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),de=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.find((function(e){return e._id===a})),o=n.features.map((function(e){return e._id})),e.next=4,Q.a.put("http://66.97.43.140:4000/properties/".concat(a),{features:Object(y.a)(o)}).then((function(e){if(200===e.status){var t=r.map((function(e){return e._id===n._id?n:e}));c(t)}})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),le=function(){var e=Object(_.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.find((function(e){return e._id===t})),n=a.features,e.next=4,Q.a.post("http://66.97.43.140:4000/features/many",n).then((function(e){A(e.data)})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),(n=new FormData).append("images",t.image),e.next=5,Q.a.post("http://66.97.43.140:4000/uploads/".concat(a._id),n).then(function(){var e=Object(_.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.url=n.data.files[0].url,delete t.image,e.next=4,Q.a.post("http://66.97.43.140:4000/media",t).then((function(e){if(201===e.status||200===n.status){Object(T.a)("Imagen agregada correctamente","Has agregado una nueva imagen","success"),a.media=[].concat(Object(y.a)(a.media),[e.data]),he(e.data,a),c(t);var t=r.map((function(e){return e._id===a._id?a:e}))}else Object(T.a)("Error al agregar la imagen","Ocurri\xf3 un error intentado agregar la imagen","error"),N(!1)})).catch((function(e){})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pe=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/media/".concat(a._id)).then((function(e){if(200===e.status){Object(T.a)("Imagen eliminada correctamente","Has eliminado una imagen","success");p.map((function(e){e.property!==t._id&&e.property._id!==t._id||"Activa"==e.status[0]&&(e.media=e.media.filter((function(e){return e._id!==a._id})),0===e.media.length?re(e):ne(e,e._id,t._id))}));var n=r.map((function(e){return e._id===t._id?t:e}));t.media=t.media.filter((function(e){return e._id!==a._id})),c(n),me(t,a)}else Object(T.a)("Error al eliminar la imagen","Ocurri\xf3 un error intentado eliminar la imagen","error")})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),he=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push(t._id),e.next=4,Q.a.put("http://66.97.43.140:4000/properties/".concat(a._id,"/addMedia"),n).then((function(e){N(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/properties/".concat(t._id,"/removeMedia"),{id:a._id}).then((function(e){if(e.data.virtualTour.find((function(e){return e===a._id}))){var n=r.map((function(e){return e._id===t._id?t:e}));t.media=t.media.filter((function(e){return e._id!==a._id})),t.virtualTour=t.virtualTour.filter((function(e){return e._id!==a._id})),Z(t,t,!0),c(n)}}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ge=function(){var e=Object(_.a)(x.a.mark((function e(t,a,n){var o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.find((function(e){return e._id===n})),e.next=3,Q.a.put("http://66.97.43.140:4000/inventories/".concat(a),{status:[t]}).then((function(e){if(200===e.status||201===e.status){Object(T.a)("Estado del inventario modificado correctamente","Has modicado el estado de un inventario","success");var n=r.map((function(e){return e._id===o._id?o:e})),i=o.inventories.find((function(e){return e._id===a}));i.status=[t],o.inventories=[].concat(Object(y.a)(o.inventories.filter((function(e){return e._id!==a}))),[i]),c(n)}else Object(T.a)("Error al modificar el estado del inventario","Ocurri\xf3 un error intentado modificar el estado del inventario","error")})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(_.a)(x.a.mark((function e(t,a,n,o){var i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.find((function(e){return e._id===n})),e.next=3,Q.a.put("http://66.97.43.140:4000/reviews/".concat(a),{status:t}).then((function(e){if(200===e.status||201===e.status){Object(T.a)("Estado del control modificado correctamente","Has modicado el estado de un control","success");var n=r.map((function(e){return e._id===i._id?i:e})),u=i.inventories.find((function(e){return e._id===o})),s=i.inventories,d="";s.forEach((function(e){d=e.reviews.find((function(e){return e._id===a}))})),d.status=t,u.reviews=[].concat(Object(y.a)(u.reviews.filter((function(e){return e._id!==a}))),[d]),i.inventories=[].concat(Object(y.a)(i.inventories.filter((function(e){return e._id!==u}))),[u]),c(n)}else Object(T.a)("Error al modificar el estado del control","Ocurri\xf3 un error intentado modificar el estado del control","error")})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),we=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.find((function(e){return e._id===a})),e.next=3,Q.a.put("http://66.97.43.140:4000/properties/".concat(a),{media:t}).then((function(e){if(200===e.status||201===e.status){var t=r.map((function(e){return e._id===n._id?n:e}));Object(T.a)("Orden de las im\xe1genes modificado correctamente","Has modificado el orden de las im\xe1genes de una propiedad","success"),c(t),G()}else Object(T.a)("Error al modificar el orden de las im\xe1genes","Ocurri\xf3 un error intentado modificar el orden de las im\xe1genes de una propiedad","error")})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),De=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.find((function(e){return e._id===a})),e.next=3,Q.a.put("http://66.97.43.140:4000/properties/".concat(a),{totalSurface:t.totalSurface,buildedSurface:t.buildedSurface,unitMeasurement:t.unitMeasurement}).then((function(e){if(200===e.status||201===e.status){Object(T.a)("Superficie modificada correctamente","Has modificado la superficie de una propiedad","success");var a=r.map((function(e){return e._id===n._id?(n.totalSurface=t.totalSurface,n.buildedSurface=t.buildedSurface,n.unitMeasurement=t.unitMeasurement,n):e}));c(a)}else Object(T.a)("Error al modificar la superficie","Ocurri\xf3 un error intentado modificar la superficie de una propiedad","error")})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.documents.length>0&&(n=a.documents.map((function(e){return e._id}))),e.next=3,Q.a.put("http://66.97.43.140:4000/properties/".concat(a._id),{documents:a.documents.length>0?[].concat(Object(y.a)(n),[t]):[t]}).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),je=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/properties/".concat(a._id),{documents:Object(y.a)(a.documents.filter((function(e){return e._id!==t})))}).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var n,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("name",t.name),n.append("description",t.description),n.append("documents",t.files),o=r.find((function(e){return e._id===a})),e.next=7,Q.a.post("http://66.97.43.140:4000/documents",n).then((function(e){if(201===e.status||200===e.status){Object(T.a)("Documento agregado correctamente","Has agregado un nuevo documento","success");var t=r.map((function(e){return e._id===a?o:e}));ve(e.data[0]._id,o),o.documents=[].concat(Object(y.a)(o.documents),[e.data[0]]),c(t)}})).catch((function(e){Object(T.a)("Error al agregar el documento","Ocurri\xf3 un error intentado agregar el documento","error")}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ye=function(){var e=Object(_.a)(x.a.mark((function e(t,a,n){var o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.find((function(e){return e._id===n})),e.next=3,Q.a.put("http://66.97.43.140:4000/documents/".concat(a),t).then((function(e){if(200===e.status){Object(T.a)("Documento editado correctamente","Has editado un documento","success"),o.documents=[].concat(Object(y.a)(o.documents.filter((function(e){return e._id!==a}))),[e.data]);var t=r.map((function(e){return e._id===n?o:e}));c(t)}})).catch((function(e){Object(T.a)("Error al editar el documento","Ocurri\xf3 un error intentado editar el documento","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/documents/".concat(t)).then((function(e){if(200===e.status||201===e.status){Object(T.a)("Documento eliminado correctamente","Has eliminado un documento","success");var n=r.map((function(e){return e._id===a._id?a:e}));a.documents=a.documents.filter((function(e){return e._id!==t})),c(n),je(t,a)}})).catch((function(e){Object(T.a)("Error al eliminar el documento","Ocurri\xf3 un error intentado eliminar el documento","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(l.jsx)(S.a.Provider,{value:{properties:r,fetchProperties:G,setProperties:c,addressToAdd:u,setAddressToAdd:s,addProperty:V,addAddress:X,deleteProperty:K,deletePost:re,addPost:ee,getPostsByProperty:ae,posts:p,editAddress:J,addresses:b,addFeature:ce,featuresProperty:j,getFeaturesByProperty:le,addMedia:fe,addDetailsToProperty:Z,deleteFeature:se,editFeature:oe,editPost:ne,deleteMedia:pe,changeInventoryStatus:ge,addVirtualTourToProperty:$,imagesPendingToAddForPost:M,setImagesPendingToAddForPost:H,changeReviewStatus:be,addSurfaceToProperty:De,changeOrderMediaFromProperty:we,addDocument:Oe,editDocument:ye,deleteDocument:Ae,changePostIsFeature:ie,propertiesAreLoading:Y,postsAreLoading:U,imagesAreLoading:z},children:e.children})},M=a(66),H=function(e){var t=Object(n.useState)("Usuario"),a=Object(k.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),i=Object(k.a)(o,2),u=i[0],s=i[1],d=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.post("http://66.97.43.140:4000/auth/signin",t).then((function(e){e.data.token?(sessionStorage.setItem("token",e.data.token),t.isAuthenticated=!0,f(t.username)):t.isAuthenticated=!1})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("http://66.97.43.140:4000/users/").then((function(e){var a=e.data.find((function(e){return e.username===t}));sessionStorage.setItem("userLoggedName",a.name.split(" ")[0]),sessionStorage.setItem("userLoggedUserName",a.username);var n=[];a.roles&&a.roles.map((function(e){n.push(e.name)})),sessionStorage.setItem("userLoggedRoles",n),s(n),c(a.name.split(" ")[0])})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(M.a.Provider,{value:{authenticateUser:d,logOut:function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("userLoggedName"),sessionStorage.removeItem("userLoggedUserName"),sessionStorage.removeItem("userLoggedRoles")},getUser:f,userRealName:r,userRoles:u},children:e.children})},L=a(65),C=function(e){var t=Object(n.useState)([]),a=Object(k.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)([]),i=Object(k.a)(o,2),u=i[0],s=i[1],d=Object(n.useState)(!0),f=Object(k.a)(d,2),p=f[0],h=f[1];Object(n.useEffect)((function(){m(),D()}),[]);var m=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Q.a.get("http://66.97.43.140:4000/users").then((function(e){c(e.data),h(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1===t.roles&&(t.roles=[]),e.next=3,Q.a.post("http://66.97.43.140:4000/users",t).then((function(e){201!==e.status&&200!==e.status||(Object(T.a)("Usuario agregado correctamente","Has agregado un nuevo usuario","success"),c([].concat(Object(y.a)(r),[e.data])),m())})).catch((function(e){Object(T.a)("Error agregando usuario","Ocurri\xf3 un error intentado agregar al usuario","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1===t.roles&&(t.roles=[]),!1===t.editPassword&&delete t.password,e.next=4,Q.a.put("http://66.97.43.140:4000/users/".concat(a),t).then((function(e){200!==e.status&&201!==e.status||(Object(T.a)("Usuario editado correctamente","Has editado un usuario","success"),t.username==sessionStorage.getItem("userLoggedUserName")&&Object(T.a)("El usuario que editaste es el mismo que est\xe1s usando","Para ver reflejados los cambios deber\xe1s volver a iniciar sesi\xf3n","warning",7e3),c([].concat(Object(y.a)(r.filter((function(e){return e._id!==a}))),[e.data])))})).catch((function(e){Object(T.a)("Error al editar usuario","Ocurri\xf3 un error intentado editar el usuario","error")}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/users/".concat(t)).then((function(e){200!==e.status&&201!==e.status||(Object(T.a)("Usuario eliminado correctamente","Has eliminado un usuario","success"),c(r.filter((function(t){return t._id!==e.data._id}))))})).catch((function(e){Object(T.a)("Error al eliminar el usuario","Ocurri\xf3 un error intentado eliminar el usuario","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("http://66.97.43.140:4000/roles").then((function(e){s(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)(L.a.Provider,{value:{fetchUsers:m,users:r,addUser:g,editUser:b,deleteUser:w,roles:u,usersAreLoading:p},children:e.children})},Y=a(47),W=function(e){var t=Object(n.useContext)(S.a).properties,a=Object(n.useState)([]),r=Object(k.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)([]),u=Object(k.a)(i,2),s=u[0],d=u[1],f=Object(n.useState)(!0),p=Object(k.a)(f,2),h=p[0],m=p[1];Object(n.useEffect)((function(){g()}),[]);var g=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Q.a.get("http://66.97.43.140:4000/customers").then((function(e){o(e.data),m(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(_.a)(x.a.mark((function e(a,n){var r,i,u,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],i=[],null!==a.ownerProperties&&void 0!==a.ownerProperties&&a.ownerProperties.length>0&&(u=[],a.ownerProperties.map((function(e){var a=t.find((function(t){return t.internalCode===e}));a&&(u.push(a._id),r.push(a))})),a.ownerProperties=u),null!==a.tenantProperties&&void 0!==a.tenantProperties&&a.tenantProperties.length>0&&(s=[],a.tenantProperties.map((function(e){var a=t.find((function(t){return t.internalCode===e}));a&&(s.push(a._id),i.push(a))})),a.tenantProperties=s),e.next=6,Q.a.post("http://66.97.43.140:4000/customers",a).then((function(e){return 201===e.status?(Object(T.a)("Cliente agregado correctamente","Has agregado un nuevo cliente","success"),e.data.ownerProperties=r,e.data.tenantProperties=i,o([].concat(Object(y.a)(c),[e.data]))):null})).catch((function(e){Object(T.a)("Error al agregar el cliente","Ocurri\xf3 un error intentado agregar el cliente","error")}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(_.a)(x.a.mark((function e(a,n){var r,i,u,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],i=[],null!==a.ownerProperties&&void 0!==a.ownerProperties&&a.ownerProperties.length>0&&(u=[],a.ownerProperties.map((function(e){var a=t.find((function(t){return t.internalCode===e}));a&&(u.push(a._id),r.push(a))})),a.ownerProperties=u),null!==a.tenantProperties&&void 0!==a.tenantProperties&&a.tenantProperties.length>0&&(s=[],a.tenantProperties.map((function(e){var a=t.find((function(t){return t.internalCode===e}));a&&(s.push(a._id),i.push(a))})),a.tenantProperties=s),e.next=6,Q.a.put("http://66.97.43.140:4000/customers/".concat(n),a).then((function(e){200!==e.status&&201!==e.status||(Object(T.a)("Cliente editado correctamente","Has editado un cliente","success"),e.data.ownerProperties=r,e.data.tenantProperties=i,o([].concat(Object(y.a)(c.filter((function(e){return e._id!==n}))),[e.data])))})).catch((function(e){Object(T.a)("Error al editar el cliente","Ocurri\xf3 un error intentado editar el cliente","error")}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/customers/".concat(t._id)).then((function(e){return 200===e.status?(Object(T.a)("Cliente eliminado correctamente","Has eliminado un cliente","success"),o(c.filter((function(t){return t._id!==e.data._id})))):null})).catch((function(e){Object(T.a)("Error al eliminar el cliente","Ocurri\xf3 un error intentado eliminar el cliente","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(Y.a.Provider,{value:{fetchCustomers:g,setCustomers:o,customers:c,addCustomer:b,editCustomer:w,deleteCustomer:D,associatedPropertiesPendingToAdd:s,setAssociatedPropertiesPendingToAdd:d,customersAreLoading:h},children:e.children})},F=a(78),R=function(e){var t=Object(n.useContext)(Y.a).customers,a=Object(n.useState)([]),r=Object(k.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)([]),u=Object(k.a)(i,2),s=u[0],d=u[1],f=Object(n.useState)([]),p=Object(k.a)(f,2),h=p[0],m=p[1],g=Object(n.useState)({}),b=Object(k.a)(g,2);b[0],b[1];Object(n.useEffect)((function(){v(),j(),O()}),[]);var w=function(e,t){return 0==t||Number.isNaN(e/t)?0:D(e/t)},D=function(e){return null===e||void 0===e?0:(100*e).toPrecision(2)-100},v=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("http://66.97.43.140:4000/properties").then((function(e){o(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("http://66.97.43.140:4000/inventories").then((function(e){d(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("http://66.97.43.140:4000/posts").then((function(e){m(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),n=new Date((new Date).setDate((new Date).getDate()-730)),r=0,o=0,i=0,u=0;return c.forEach((function(c){null!=c.saleDate&&(c.saleDate=new Date(c.saleDate),c.saleDate.setHours(0,0,0,0),c.saleDate.getTime()==e.getTime()?r++:c.saleDate>t?o++:c.saleDate>a?i++:c.saleDate>n&&u++)})),{yesterdayQuantity:r,twoWeekAgoQuantity:o,twoMonthsAgoQuantity:i,twoYearsAgoQuantity:u}},A=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),n=new Date((new Date).setDate((new Date).getDate()-730)),r=0,o=0,i=0,u=0;return c.forEach((function(c){null!=c.rentDate&&(c.rentDate=new Date(c.rentDate),c.rentDate.setHours(0,0,0,0),c.rentDate.getTime()==e.getTime()?r++:c.rentDate>t?o++:c.rentDate>a?i++:c.rentDate>n&&u++)})),{yesterdayQuantity:r,twoWeekAgoQuantity:o,twoMonthsAgoQuantity:i,twoYearsAgoQuantity:u}},P=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),n=new Date((new Date).setDate((new Date).getDate()-730)),r=0,c=0,o=0,i=0;return s.forEach((function(u){null!=u.createdAt&&(u.createdAt=new Date(u.createdAt),u.createdAt.setHours(0,0,0,0),u.createdAt.getTime()==e.getTime()?r++:u.createdAt>t?c++:u.createdAt>a?o++:u.createdAt>n&&i++)})),{yesterdayQuantity:r,twoWeekAgoQuantity:c,twoMonthsAgoQuantity:o,twoYearsAgoQuantity:i}},T=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),n=new Date((new Date).setDate((new Date).getDate()-730)),r=0,o=0,i=0,u=0;return c.forEach((function(c){null!=c.createdAt&&(c.createdAt=new Date(c.createdAt),c.createdAt.setHours(0,0,0,0),c.createdAt.getTime()==e.getTime()?r++:c.createdAt>t?o++:c.createdAt>a?i++:c.createdAt>n&&u++)})),{yesterdayQuantity:r,twoWeekAgoQuantity:o,twoMonthsAgoQuantity:i,twoYearsAgoQuantity:u}},S=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var a=new Date((new Date).setDate((new Date).getDate()-14)),n=new Date((new Date).setDate((new Date).getDate()-60)),r=new Date((new Date).setDate((new Date).getDate()-730)),c=0,o=0,i=0,u=0;return t.forEach((function(t){null!=t.createdAt&&(t.createdAt=new Date(t.createdAt),t.createdAt.setHours(0,0,0,0),t.createdAt.getTime()==e.getTime()?c++:t.createdAt>a?o++:t.createdAt>n?i++:t.createdAt>r&&u++)})),{yesterdayQuantity:c,twoWeekAgoQuantity:o,twoMonthsAgoQuantity:i,twoYearsAgoQuantity:u}},E=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),n=new Date((new Date).setDate((new Date).getDate()-730)),r=0,c=0,o=0,i=0;return h.forEach((function(u){null!=u.createdAt&&(u.createdAt=new Date(u.createdAt),u.createdAt.setHours(0,0,0,0),u.createdAt.getTime()==e.getTime()?r++:u.createdAt>t?c++:u.createdAt>a?o++:u.createdAt>n&&i++)})),{yesterdayQuantity:r,twoWeekAgoQuantity:c,twoMonthsAgoQuantity:o,twoYearsAgoQuantity:i}},M=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),n=new Date((new Date).setDate((new Date).getDate()-730)),r=0,c=0,o=0,i=0;return h.forEach((function(u){if("Pendiente"!=u.status[0]&&1==u.isForRent&&1==u.isForSale){var s=new Date(u.startDate);s.setHours(0,0,0,0);var d=new Date(u.endDate);d.setHours(0,0,0,0);for(var l=!1,f=!1,p=!1,h=!1,m=0;s<=d;m++)s.getDay()==e.getDay()?l=!0:s>t?f=!0:s>a?p=!0:s>n&&(h=!0),s.setDate(s.getDate()+1);r=1==l?r+1:r,c=1==f?c+1:c,o=1==p?o+1:o,i=1==h?i+1:i,l=!1,f=!1,p=!1,h=!1}})),{yesterdayQuantity:r,twoWeekAgoQuantity:c,twoMonthsAgoQuantity:o,twoYearsAgoQuantity:i}};return Object(l.jsx)(F.a.Provider,{value:{getPropertyWithLargestArea:function(){return c.filter((function(e){return e.totalSurface})).sort((function(e,t){return t.totalSurface-e.totalSurface}))[0]},getPropertyWithLessArea:function(){return c.filter((function(e){return e.totalSurface})).sort((function(e,t){return e.totalSurface-t.totalSurface}))[0]},getCustomerWithMoreProperties:function(){return t.sort((function(e,t){return t.ownerProperties.length+t.tenantProperties.length-(e.ownerProperties.length+e.tenantProperties.length)}))[0]},getRentedProperties:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),n=new Date((new Date).setDate((new Date).getDate()-365)),r=0,o=0,i=0,u=0;c.forEach((function(c){null!=c.rentDate&&(c.rentDate=new Date(c.rentDate),c.rentDate.setHours(0,0,0,0),c.rentDate.getTime()==e.getTime()?r++:c.rentDate>t?o++:c.rentDate>a?i++:c.rentDate>n&&u++)}));var s=A(),d=w(r,s.yesterdayQuantity),l=w(o,s.twoWeekAgoQuantity),f=w(i,s.twoMonthsAgoQuantity),p=w(u,s.twoYearsAgoQuantity);return{todayQuantity:r,lastWeekQuantity:o,lastMonthQuantity:i,lastYearQuantity:u,percentageTodayYesterday:d,percentageLastWeekTwoWeekAgo:l,percentageLastMonthTwoMonthAgo:f,percentageLastYearTwoYearsAgo:p}},getSoldProperties:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),n=new Date((new Date).setDate((new Date).getDate()-365)),r=0,o=0,i=0,u=0;c.forEach((function(c){null!=c.saleDate&&(c.saleDate=new Date(c.saleDate),c.saleDate.setHours(0,0,0,0),c.saleDate.getTime()==e.getTime()?r++:c.saleDate>t?o++:c.saleDate>a?i++:c.saleDate>n&&u++)}));var s=y(),d=w(r,s.yesterdayQuantity),l=w(o,s.twoWeekAgoQuantity),f=w(i,s.twoMonthsAgoQuantity),p=w(u,s.twoYearsAgoQuantity);return{todayQuantity:r,lastWeekQuantity:o,lastMonthQuantity:i,lastYearQuantity:u,percentageTodayYesterday:d,percentageLastWeekTwoWeekAgo:l,percentageLastMonthTwoMonthAgo:f,percentageLastYearTwoYearsAgo:p}},getAvailableProperties:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),n=new Date((new Date).setDate((new Date).getDate()-365)),r=0,c=0,o=0,i=0;h.forEach((function(u){if("Pendiente"!=u.status[0]&&1==u.isForRent&&1==u.isForSale){var s=new Date(u.startDate);s.setHours(0,0,0,0);var d=new Date(u.endDate);d.setHours(0,0,0,0);for(var l=!1,f=!1,p=!1,h=!1,m=0;s<=d;m++)s.getTime()==e.getTime()?l=!0:s>t?f=!0:s>a?p=!0:s>n&&(h=!0),s.setDate(s.getDate()+1);r=1==l?r+1:r,c=1==f?c+1:c,o=1==p?o+1:o,i=1==h?i+1:i,l=!1,f=!1,p=!1,h=!1}}));var u=M(),s=w(r,u.yesterdayQuantity),d=w(c,u.twoWeekAgoQuantity),l=w(o,u.twoMonthsAgoQuantity),f=w(i,u.twoYearsAgoQuantity);return{todayQuantity:r,lastWeekQuantity:c,lastMonthQuantity:o,lastYearQuantity:i,percentageTodayYesterday:s,percentageLastWeekTwoWeekAgo:d,percentageLastMonthTwoMonthAgo:l,percentageLastYearTwoYearsAgo:f}},getInventories:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),n=new Date((new Date).setDate((new Date).getDate()-365)),r=0,c=0,o=0,i=0;s.forEach((function(u){null!=u.createdAt&&(u.createdAt=new Date(u.createdAt),u.createdAt.setHours(0,0,0,0),u.createdAt.getTime()==e.getTime()?r++:u.createdAt>t?c++:u.createdAt>a?o++:u.createdAt>n&&i++)}));var u=P(),d=w(r,u.yesterdayQuantity),l=w(c,u.twoWeekAgoQuantity),f=w(o,u.twoMonthsAgoQuantity),p=w(i,u.twoYearsAgoQuantity);return{todayQuantity:r,lastWeekQuantity:c,lastMonthQuantity:o,lastYearQuantity:i,percentageTodayYesterday:d,percentageLastWeekTwoWeekAgo:l,percentageLastMonthTwoMonthAgo:f,percentageLastYearTwoYearsAgo:p}},getPosts:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),n=new Date((new Date).setDate((new Date).getDate()-365)),r=0,c=0,o=0,i=0;h.forEach((function(u){null!=u.createdAt&&(u.createdAt=new Date(u.createdAt),u.createdAt.setHours(0,0,0,0),u.createdAt.getTime()==e.getTime()?r++:u.createdAt>t?c++:u.createdAt>a?o++:u.createdAt>n&&i++)}));var u=E(),s=w(r,u.yesterdayQuantity),d=w(c,u.twoWeekAgoQuantity),l=w(o,u.twoMonthsAgoQuantity),f=w(i,u.twoYearsAgoQuantity);return{todayQuantity:r,lastWeekQuantity:c,lastMonthQuantity:o,lastYearQuantity:i,percentageTodayYesterday:s,percentageLastWeekTwoWeekAgo:d,percentageLastMonthTwoMonthAgo:l,percentageLastYearTwoYearsAgo:f}},getNewProperties:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),n=new Date((new Date).setDate((new Date).getDate()-365)),r=0,o=0,i=0,u=0;c.forEach((function(c){null!=c.createdAt&&(c.createdAt=new Date(c.createdAt),c.createdAt.setHours(0,0,0,0),c.createdAt.getTime()==e.getTime()?r++:c.createdAt>t?o++:c.createdAt>a?i++:c.createdAt>n&&u++)}));var s=T(),d=w(r,s.yesterdayQuantity),l=w(o,s.twoWeekAgoQuantity),f=w(i,s.twoMonthsAgoQuantity),p=w(u,s.twoYearsAgoQuantity);return{todayQuantity:r,lastWeekQuantity:o,lastMonthQuantity:i,lastYearQuantity:u,percentageTodayYesterday:d,percentageLastWeekTwoWeekAgo:l,percentageLastMonthTwoMonthAgo:f,percentageLastYearTwoYearsAgo:p}},getNewCustomers:function(){var e=new Date;e.setHours(0,0,0,0);var a=new Date((new Date).setDate((new Date).getDate()-7)),n=new Date((new Date).setDate((new Date).getDate()-30)),r=new Date((new Date).setDate((new Date).getDate()-365)),c=0,o=0,i=0,u=0;t.forEach((function(t){null!=t.createdAt&&(t.createdAt=new Date(t.createdAt),t.createdAt.setHours(0,0,0,0),t.createdAt.getTime()==e.getTime()?c++:t.createdAt>a?o++:t.createdAt>n?i++:t.createdAt>r&&u++)}));var s=S(),d=w(c,s.yesterdayQuantity),l=w(o,s.twoWeekAgoQuantity),f=w(i,s.twoMonthsAgoQuantity),p=w(u,s.twoYearsAgoQuantity);return{todayQuantity:c,lastWeekQuantity:o,lastMonthQuantity:i,lastYearQuantity:u,percentageTodayYesterday:d,percentageLastWeekTwoWeekAgo:l,percentageLastMonthTwoMonthAgo:f,percentageLastYearTwoYearsAgo:p}},getCustomersWithoutProperties:function(){var e=[];return t.forEach((function(t){return t.ownerProperties.length+t.tenantProperties.length===0?e.push(t):null})),e},propertiesFromDB:c},children:e.children})};o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(i.a,{theme:j.a,children:Object(l.jsx)(E,{children:Object(l.jsx)(H,{children:Object(l.jsx)(C,{children:Object(l.jsx)(W,{children:Object(l.jsx)(R,{children:Object(l.jsx)(v,{})})})})})})})}),document.getElementById("root"))},46:function(e,t,a){"use strict";var n=a(0),r=Object(n.createContext)({});t.a=r},47:function(e,t,a){"use strict";var n=a(0),r=Object(n.createContext)({});t.a=r},5:function(e,t,a){"use strict";a(0);var n=a(62),r=a(54),c=a(6);t.a=function(e,t,a,o){return Object(n.a)({theme:r.a})({title:e,description:t,status:a,duration:o||4e3,position:"bottom",isClosable:!0}),Object(c.jsx)(c.Fragment,{})}},54:function(e,t,a){"use strict";var n=a(37),r=Object(n.b)({config:{},styles:{global:function(e){return{body:{}}}},colors:{defaultColor:{50:"#E6E9F0",100:"#C1C7D9",200:"#98A2C0",300:"#6E7DA6",400:"#4F6193",500:"#304580",600:"#2B3E78",700:"#24366D",800:"#1E2E63",900:"#131F50"}},components:{Button:{variants:{solid:function(e){return{}},color:{_hover:{bg:"#564A95"},_active:{bg:"#564A95"}},"add-button":{bg:"defaultColor.500",_hover:{bg:"defaultColor.400"},color:"#fff"},"add-button-dark":{bg:"defaultColor.500",_hover:{bg:"defaultColor.700"},color:"#fff"},"add-button-clear":{bg:"defaultColor.300",_hover:{bg:"defaultColor.200"},color:"#fff"},"confirm-add-button":{bg:"defaultColor.300",_hover:{bg:"defaultColor.200"},color:"#fff"},"delete-button":{bg:"#d63031",color:"#fff",_hover:{bg:"#f05657"}},"cancel-action":{border:"2px solid #cbd5e0",color:"#fff",_hover:{bg:"rgba(0, 0, 0, 0.20)"}},"cancel-action-black":{border:"2px solid #cbd5e0",color:"#000",_hover:{bg:"rgba(0, 0, 0, 0.20)"}},"reports-button":{bg:"defaultColor.400",_hover:{bg:"defaultColor.300"},color:"#fff"}}},Badge:{variants:{"required-error":{rounded:"md",px:"3",py:"0.5",w:"100%",mt:"1.5",textAlign:"center",bg:"#9E6A72",color:"#fff"},"required-warning":{rounded:"md",px:"3",py:"0.5",w:"100%",mt:"1.5",textAlign:"center",bg:"#e17055",color:"#fff"}}},Tooltip:{baseStyle:{borderRadius:"5px",fontSize:"13px"}}}});t.a=r},65:function(e,t,a){"use strict";var n=a(0),r=Object(n.createContext)({});t.a=r},66:function(e,t,a){"use strict";var n=a(0),r=Object(n.createContext)({});t.a=r},78:function(e,t,a){"use strict";var n=a(0),r=Object(n.createContext)({});t.a=r}},[[147,6,7]]]);
//# sourceMappingURL=main.76c4f7c2.chunk.js.map