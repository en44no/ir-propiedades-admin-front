(this["webpackJsonptemplate-react-chakraui-eslint-eslint"]=this["webpackJsonptemplate-react-chakraui-eslint-eslint"]||[]).push([[5],{120:function(e,t,a){},121:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(26),c=a.n(o),i=(a(120),a(37)),u=a(56),s=a(9),d=a(67),p=(a(121),a(6)),l=function(e){var t=e.color;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(d.b,{w:"100%",h:"100vh",children:Object(p.jsx)(d.b,{color:"white"==t?"#fff":"#304580",className:"bigLoader"})})})},f=function(e){var t=e.component;return sessionStorage.getItem("token")?t:Object(p.jsx)(s.a,{to:"/login"})},m=n.a.lazy((function(){return Promise.all([a.e(12),a.e(14)]).then(a.bind(null,278))})),g=n.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(9)]).then(a.bind(null,282))})),h=n.a.lazy((function(){return Promise.all([a.e(0),a.e(4),a.e(13)]).then(a.bind(null,276))})),b=n.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(4),a.e(11)]).then(a.bind(null,281))})),w=n.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(15),a.e(10)]).then(a.bind(null,280))})),D=n.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(8)]).then(a.bind(null,279))}));var v=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)(l,{}),children:Object(p.jsx)(u.a,{children:Object(p.jsxs)(s.d,{children:[Object(p.jsx)(s.b,{path:"/",element:Object(p.jsx)(f,{component:Object(p.jsx)(m,{title:"Manejo de Propiedades",children:Object(p.jsx)(g,{})})})}),Object(p.jsx)(s.b,{path:"/login",element:Object(p.jsx)(h,{})}),Object(p.jsx)(s.b,{path:"/usuarios",element:Object(p.jsx)(f,{component:Object(p.jsx)(m,{title:"Manejo de Usuarios",children:Object(p.jsx)(b,{})})})}),Object(p.jsx)(s.b,{path:"/propiedades",element:Object(p.jsx)(f,{component:Object(p.jsx)(m,{title:"Manejo de Propiedades",children:Object(p.jsx)(g,{})})})}),Object(p.jsx)(s.b,{path:"/clientes",element:Object(p.jsx)(f,{component:Object(p.jsx)(m,{title:"Manejo de Clientes",children:Object(p.jsx)(w,{})})})}),Object(p.jsx)(s.b,{path:"/reportes",element:Object(p.jsx)(f,{component:Object(p.jsx)(m,{title:"Reportes",children:Object(p.jsx)(D,{})})})})]})})})})},j=a(54),O=a(55),y=a(12),A=a(4),x=a.n(A),_=a(8),k=a(11),P=a(7),Q=a.n(P),T=a(5),S=a(46),E=function(e){var t=Object(r.useState)([]),a=Object(k.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(null),i=Object(k.a)(c,2),u=i[0],s=i[1],d=Object(r.useState)([]),l=Object(k.a)(d,2),f=l[0],m=l[1],g=Object(r.useState)([]),h=Object(k.a)(g,2),b=h[0],w=h[1],D=Object(r.useState)([]),v=Object(k.a)(D,2),j=v[0],A=v[1],P=Object(r.useState)({}),E=Object(k.a)(P,2),M=E[0],z=E[1],H=Object(r.useState)(!0),L=Object(k.a)(H,2),C=L[0],Y=L[1],W=Object(r.useState)(!0),F=Object(k.a)(W,2),R=F[0],U=F[1],I=Object(r.useState)(!1),B=Object(k.a)(I,2),q=B[0],N=B[1];Object(r.useEffect)((function(){G()}),[]),Object(r.useEffect)((function(){}),[]);var G=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.next=3,Q.a.get("http://66.97.43.140:4000/properties").then((function(e){o(e.data),Y(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.address=a,e.next=3,Q.a.post("http://66.97.43.140:4000/properties",t).then((function(e){return 201===e.status?(Object(T.a)("Propiedad agregada correctamente","Has agregado una nueva propiedad","success"),e.data.address=a,s(null),o([].concat(Object(y.a)(n),[e.data]))):null})).catch((function(e){Object(T.a)("Error al agregar la propiedad","Ocurri\xf3 un error intentado agregar la propiedad","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.find((function(e){return e.address._id===a}))){e.next=3;break}return e.abrupt("return",X(t));case 3:return e.next=5,Q.a.put("http://66.97.43.140:4000/addresses/".concat(a),t).then((function(e){if(200===e.status){Object(T.a)("Direcci\xf3n editada correctamente","Has editado una direcci\xf3n","success"),r.address=e.data,w([].concat(Object(y.a)(b),[e.data]));var t=n.map((function(t){return t._id===r._id?Object(O.a)(Object(O.a)({},r),{},{address:e.data}):t}));o(t)}})).catch((function(e){Object(T.a)("Error al editar la direcci\xf3n","Ocurri\xf3 un error intentado editar la direcci\xf3n","error")}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/properties/".concat(t._id)).then((function(e){return 200===e.status?(Object(T.a)("Propiedad eliminada correctamente","Has eliminado una propiedad","success"),s(null),o(n.filter((function(e){return e._id!==t._id})))):null})).catch((function(e){Object(T.a)("Error al eliminar la propiedad","Ocurri\xf3 un error intentado eliminar la propiedad","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.post("http://66.97.43.140:4000/addresses",t).then((function(e){return 201===e.status?(Object(T.a)("Direcci\xf3n agregada correctamente","Has agregado una nueva direcci\xf3n","success"),s(e.data),w([].concat(Object(y.a)(b),[e.data]))):null})).catch((function(e){Object(T.a)("Error al agregar la direcci\xf3n","Ocurri\xf3 un error intentado agregar la direcci\xf3n","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(_.a)(x.a.mark((function e(t,a,r){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/properties/".concat(a._id),t).then((function(e){if(200===e.status){r||Object(T.a)("Detalles agregados correctamente","Has agregado detalles a una propiedad","success"),null!=t.type&&(a.type[0]=t.type),null!=t.media&&(a.media=t.media),null!=t.virtualTour&&(a.virtualTour=t.virtualTour),null!=t.isForRent&&(a.isForRent=t.isForRent),null!=t.isForSale&&(a.isForSale=t.isForSale),null!=t.saleDate?a.saleDate=t.saleDate:a.saleDate=null,null!=t.rentDate?a.rentDate=t.rentDate:a.rentDate=null,null!=t.name&&(a.name=t.name),null!=t.comment&&(a.comment=t.comment),null!=t.description&&(a.description=t.description);var c=n.map((function(e){return e._id===a._id?a:e}));o(c)}})).catch((function(e){Object(T.a)("Error al agregar detalles a la propiedad","Ocurri\xf3 un error intentado agregar detalles a la propiedad","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),$=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/properties/".concat(a._id),{virtualTour:t}).then((function(e){if(200===e.status){Object(T.a)("Virtual tour modificado correctamente","Has modificado el virtual tour de una propiedad","success"),a.virtualTour=t;var r=n.map((function(e){return e._id===a._id?a:e}));o(r)}})).catch((function(e){Object(T.a)("Error al modificar virtual tour","Ocurri\xf3 un error intentado modificar el virtual tour de una propiedad","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new Date((new Date).toDateString()),(n=new Date(t.startDate.toDateString()))<=r?t.status="Activa":n>r&&(t.status="Pendiente"),t.property=a,0!=t.mercadoLibre){e.next=9;break}return e.next=7,Q.a.post("http://66.97.43.140:4000/posts",t).then((function(e){return 201===e.status?(Object(T.a)("Publicaci\xf3n creada correctamente","Has creado una nueva publicaci\xf3n","success"),m([].concat(Object(y.a)(f),[e.data]))):null})).catch((function(e){Object(T.a)("Error al crear la publicaci\xf3n","Ocurri\xf3 un error intentado crear la publicaci\xf3n","error")}));case 7:e.next=15;break;case 9:if(1!=t.isForSale){e.next=12;break}return e.next=12,Q.a.post("http://66.97.43.140:4000/posts",t).then((function(e){return 201===e.status?(Object(T.a)("Publicaci\xf3n de venta creada correctamente","Has creado una nueva publicaci\xf3n de venta","success",7e3),m([].concat(Object(y.a)(f),[e.data])),1==t.mercadoLibre&&te(e.data,"venta")):null})).catch((function(e){500!=e.status&&400!=e.status||Object(T.a)("Error al crear la publicaci\xf3n de venta","Ocurri\xf3 un error intentado crear la publicaci\xf3n de venta","error",7e3)}));case 12:if(1!=t.isForRent){e.next=15;break}return e.next=15,Q.a.post("http://66.97.43.140:4000/posts",t).then((function(e){return 201===e.status?(Object(T.a)("Publicaci\xf3n de alquiler creada correctamente","Has creado una nueva publicaci\xf3n de alquiler","success",7e3),m([].concat(Object(y.a)(f),[e.data])),1==t.mercadoLibre&&te(e.data,"alquiler")):null})).catch((function(e){500!=e.status&&400!=e.status||Object(T.a)("Error al crear la publicaci\xf3n de alquiler","Ocurri\xf3 un error intentado crear la publicaci\xf3n de alquiler","error",7e3)}));case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r,o,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.find((function(e){return e._id===t.property})),"venta"!=a){e.next=5;break}return o={title:t.title,category_id:"MLU1468",price:t.forSalePrice,currency_id:"USD",available_quantity:1,buying_mode:"classified",listing_type_id:"silver",condition:"new",start_time:t.startDate,pictures:t.media.map((function(e){return{source:e.url}})),seller_contact:{contact:"Ian Rodr\xedguez Propiedades",area_code:"011",phone:"11 66 42 34 62",email:"info@ianrodriguezprop.com"},location:{address_line:r.address.street+", "+r.address.city+", "+r.address.state+", "+r.address.country+", ",zip_code:null,neighborhood:{id:"TUxBQlBBUzgyNjBa"},latitude:null,longitude:null},attributes:[{id:"FULL_BATHROOMS",value_name:r.features.filter((function(e){return"Ba\xf1o"===e.type[0]})).length},{id:"PARKING_LOTS",value_name:r.features.filter((function(e){return"Garaje"===e.type[0]})).length},{id:"ROOMS",value_name:0},{id:"BEDROOMS",value_name:r.features.filter((function(e){return"Dormitorio"===e.type[0]})).length},{id:"COVERED_AREA",value_name:r.buildedSurface+" "+r.unitMeasurement},{id:"TOTAL_AREA",value_name:r.totalSurface+" "+r.unitMeasurement}]},e.next=5,Q.a.post("http://66.97.43.140:4000/mercadolibre",o).then((function(e){201==e.status&&(Object(T.a)("Publicaci\xf3n en MercadoLibre para venta creada correctamente","Deber\xe1s efectuar el pago en MercadoLibre para que la publicaci\xf3n sea visible.","success",7e3),ue(t,e.data.permalink))})).catch((function(e){500!=e.status&&400!=e.status||Object(T.a)("Error al crear la publicaci\xf3n para venta en MercadoLibre","Ocurri\xf3 un error intentado crear la publicaci\xf3n en MercadoLibre","error",7e3)}));case 5:if("alquiler"!==a){e.next=9;break}return c={title:t.title,category_id:"MLU1467",price:t.forRentPrice,currency_id:"USD",available_quantity:1,buying_mode:"classified",listing_type_id:"silver",condition:"new",start_time:t.startDate,pictures:t.media.map((function(e){return{source:e.url}})),seller_contact:{contact:"Ian Rodr\xedguez Propiedades",area_code:"011",phone:"11 66 42 34 62",email:"info@ianrodriguezprop.com"},location:{address_line:r.address.street+", "+r.address.city+", "+r.address.state+", "+r.address.country+", ",zip_code:null,neighborhood:{id:"TUxBQlBBUzgyNjBa"},latitude:null,longitude:null},attributes:[{id:"FULL_BATHROOMS",value_name:r.features.filter((function(e){return"Ba\xf1o"===e.type[0]})).length},{id:"PARKING_LOTS",value_name:r.features.filter((function(e){return"Garaje"===e.type[0]})).length},{id:"ROOMS",value_name:0},{id:"BEDROOMS",value_name:r.features.filter((function(e){return"Dormitorio"===e.type[0]})).length},{id:"COVERED_AREA",value_name:r.buildedSurface+" "+r.unitMeasurement},{id:"TOTAL_AREA",value_name:r.totalSurface+" "+r.unitMeasurement}]},e.next=9,Q.a.post("http://66.97.43.140:4000/mercadolibre",c).then((function(e){201===e.status&&(Object(T.a)("Publicaci\xf3n en MercadoLibre para alquiler creada correctamente","Deber\xe1s efectuar el pago en MercadoLibre para que la publicaci\xf3n sea visible.","success",7e3),ue(t,e.data.permalink))})).catch((function(e){500!=e.status&&400!=e.status||Object(T.a)("Error al crear la publicaci\xf3n para alquiler en MercadoLibre","Ocurri\xf3 un error intentado crear la publicaci\xf3n en MercadoLibre","error",7e3)}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ae=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,Q.a.get("http://66.97.43.140:4000/posts/byPropertyId/".concat(t)).then((function(e){m(e.data),U(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(_.a)(x.a.mark((function e(t,a,r){var o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.find((function(e){return e._id===r})),e.next=3,Q.a.put("http://66.97.43.140:4000/posts/".concat(a),t).then((function(e){if(200===e.status){Object(T.a)("Publicaci\xf3n editada correctamente","Has editado una publicaci\xf3n","success");var t=[];e.data.media.map((function(e){if(o.media.indexOf(e)){var a=o.media.find((function(t){return t._id===e}));t.push(a)}})),e.data.media=t,m([].concat(Object(y.a)(f.filter((function(e){return e._id!==a}))),[e.data])),"Finalizada"!=e.data.status&&"Pausada"!=e.data.status||ae(r)}})).catch((function(e){500!=e.status&&400!=e.status||Object(T.a)("Error al editar la publicaci\xf3n","Ocurri\xf3 un error intentado editar la publicaci\xf3n","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),ne=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/posts/".concat(t._id)).then((function(e){return 200===e.status?(Object(T.a)("Publicaci\xf3n eliminada correctamente","Has eliminado una publicaci\xf3n","success"),m(f.filter((function(t){return t._id!==e.data._id})))):null})).catch((function(e){Object(T.a)("Error al eliminar la publicaci\xf3n","Ocurri\xf3 un error intentado eliminar la publicaci\xf3n","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.find((function(e){return e._id===a})),t.property=a,e.next=4,Q.a.post("http://66.97.43.140:4000/features",t).then((function(e){if(201===e.status){Object(T.a)("Caracter\xedstica agregada correctamente","Has agregado una nueva caracter\xedstica","success");var t=n.map((function(e){return e._id===a?r:e}));r.features=[].concat(Object(y.a)(r.features),[e.data]),o(t),de(e.data,a)}})).catch((function(e){Object(T.a)("Error al agregar la caracter\xedstica","Ocurri\xf3 un error intentado agregar la caracter\xedstica","error")}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(_.a)(x.a.mark((function e(t,a,r){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.find((function(e){return e._id===r})),e.next=3,Q.a.put("http://66.97.43.140:4000/features/".concat(a),t).then((function(e){if(200===e.status){Object(T.a)("Caracter\xedstica editada correctamente","Has editado una caracter\xedstica","success"),c.features=[].concat(Object(y.a)(c.features.filter((function(e){return e._id!==a}))),[e.data]);var t=n.map((function(e){return e._id===r?c:e}));o(t),de(e.data,r)}})).catch((function(e){Object(T.a)("Error al editar la caracter\xedstica","Ocurri\xf3 un error intentado editar la caracter\xedstica","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),ie=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/posts/".concat(t._id),{isFeatured:a}).then((function(e){200===e.status||201===e.status?(Object(T.a)(1==a?"Publicaci\xf3n marcada como destacada correctamente":"Publicaci\xf3n quitada de favoritos correctamente",1==a?"Has marcado esta publicaci\xf3n como destacada":"Has quitado esta publicaci\xf3n de destacados","success"),t.isFeatured=a,m([].concat(Object(y.a)(f.filter((function(t){return t._id!==e.data._id}))),[t]))):Object(T.a)("Error al marcar la publicaci\xf3n como destacada","Ocurri\xf3 un error intentado marcar la publicaci\xf3n como destacada","error")})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ue=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/posts/".concat(t._id),{mercadoLibreLink:a}).then((function(e){200!==e.status&&201!==e.status||(t.mercadoLibreLink=a,m([].concat(Object(y.a)(f),[t])))})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),se=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/features/".concat(t._id)).then((function(e){if(200===e.status){Object(T.a)("Caracter\xedstica eliminada correctamente","Has eliminado una caracter\xedstica","success");var r=n.map((function(e){return e._id===a._id?a:e}));a.features=a.features.filter((function(e){return e._id!==t._id})),o(r),de(e.data,a._id)}})).catch((function(e){Object(T.a)("Error al eliminar la caracter\xedstica","Ocurri\xf3 un error intentado eliminar la caracter\xedstica","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),de=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.find((function(e){return e._id===a})),c=r.features.map((function(e){return e._id})),e.next=4,Q.a.put("http://66.97.43.140:4000/properties/".concat(a),{features:Object(y.a)(c)}).then((function(e){if(200===e.status){var t=n.map((function(e){return e._id===r._id?r:e}));o(t)}})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pe=function(){var e=Object(_.a)(x.a.mark((function e(t){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.find((function(e){return e._id===t})),r=a.features,e.next=4,Q.a.post("http://66.97.43.140:4000/features/many",r).then((function(e){A(e.data)})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),(r=new FormData).append("images",t.image),e.next=5,Q.a.post("http://66.97.43.140:4000/uploads/".concat(a._id),r).then(function(){var e=Object(_.a)(x.a.mark((function e(r){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.url=r.data.files[0].url,delete t.image,e.next=4,Q.a.post("http://66.97.43.140:4000/media",t).then((function(e){if(201===e.status||200===r.status){Object(T.a)("Imagen agregada correctamente","Has agregado una nueva imagen","success"),a.media=[].concat(Object(y.a)(a.media),[e.data]),me(e.data,a),o(t);var t=n.map((function(e){return e._id===a._id?a:e}))}else Object(T.a)("Error al agregar la imagen","Ocurri\xf3 un error intentado agregar la imagen","error"),N(!1)})).catch((function(e){})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fe=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/media/".concat(a._id)).then((function(e){if(200===e.status){Object(T.a)("Imagen eliminada correctamente","Has eliminado una imagen","success");f.map((function(e){e.property!==t._id&&e.property._id!==t._id||"Activa"==e.status[0]&&(e.media=e.media.filter((function(e){return e._id!==a._id})),0===e.media.length?ne(e):re(e,e._id,t._id))}));var r=n.map((function(e){return e._id===t._id?t:e}));t.media=t.media.filter((function(e){return e._id!==a._id})),o(r),ge(t,a)}else Object(T.a)("Error al eliminar la imagen","Ocurri\xf3 un error intentado eliminar la imagen","error")})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=[]).push(t._id),e.next=4,Q.a.put("http://66.97.43.140:4000/properties/".concat(a._id,"/addMedia"),r).then((function(e){N(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ge=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/properties/".concat(t._id,"/removeMedia"),{id:a._id}).then((function(e){if(e.data.virtualTour.find((function(e){return e===a._id}))){var r=n.map((function(e){return e._id===t._id?t:e}));t.media=t.media.filter((function(e){return e._id!==a._id})),t.virtualTour=t.virtualTour.filter((function(e){return e._id!==a._id})),Z(t,t,!0),o(r)}}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),he=function(){var e=Object(_.a)(x.a.mark((function e(t,a,r){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.find((function(e){return e._id===r})),e.next=3,Q.a.put("http://66.97.43.140:4000/inventories/".concat(a),{status:[t]}).then((function(e){if(200===e.status||201===e.status){Object(T.a)("Estado del inventario modificado correctamente","Has modicado el estado de un inventario","success");var r=n.map((function(e){return e._id===c._id?c:e})),i=c.inventories.find((function(e){return e._id===a}));i.status=[t],c.inventories=[].concat(Object(y.a)(c.inventories.filter((function(e){return e._id!==a}))),[i]),o(r)}else Object(T.a)("Error al modificar el estado del inventario","Ocurri\xf3 un error intentado modificar el estado del inventario","error")})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),be=function(){var e=Object(_.a)(x.a.mark((function e(t,a,r,c){var i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.find((function(e){return e._id===r})),e.next=3,Q.a.put("http://66.97.43.140:4000/reviews/".concat(a),{status:t}).then((function(e){if(200===e.status||201===e.status){Object(T.a)("Estado del control modificado correctamente","Has modicado el estado de un control","success");var r=n.map((function(e){return e._id===i._id?i:e})),u=i.inventories.find((function(e){return e._id===c})),s=i.inventories,d="";s.forEach((function(e){d=e.reviews.find((function(e){return e._id===a}))})),d.status=t,u.reviews=[].concat(Object(y.a)(u.reviews.filter((function(e){return e._id!==a}))),[d]),i.inventories=[].concat(Object(y.a)(i.inventories.filter((function(e){return e._id!==u}))),[u]),o(r)}else Object(T.a)("Error al modificar el estado del control","Ocurri\xf3 un error intentado modificar el estado del control","error")})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),we=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.find((function(e){return e._id===a})),e.next=3,Q.a.put("http://66.97.43.140:4000/properties/".concat(a),{media:t}).then((function(e){if(200===e.status||201===e.status){var t=n.map((function(e){return e._id===r._id?r:e}));Object(T.a)("Orden de las im\xe1genes modificado correctamente","Has modificado el orden de las im\xe1genes de una propiedad","success"),o(t),G()}else Object(T.a)("Error al modificar el orden de las im\xe1genes","Ocurri\xf3 un error intentado modificar el orden de las im\xe1genes de una propiedad","error")})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),De=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.find((function(e){return e._id===a})),e.next=3,Q.a.put("http://66.97.43.140:4000/properties/".concat(a),{totalSurface:t.totalSurface,buildedSurface:t.buildedSurface,unitMeasurement:t.unitMeasurement}).then((function(e){if(200===e.status||201===e.status){Object(T.a)("Superficie modificada correctamente","Has modificado la superficie de una propiedad","success");var a=n.map((function(e){return e._id===r._id?(r.totalSurface=t.totalSurface,r.buildedSurface=t.buildedSurface,r.unitMeasurement=t.unitMeasurement,r):e}));o(a)}else Object(T.a)("Error al modificar la superficie","Ocurri\xf3 un error intentado modificar la superficie de una propiedad","error")})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.documents.length>0&&(r=a.documents.map((function(e){return e._id}))),e.next=3,Q.a.put("http://66.97.43.140:4000/properties/".concat(a._id),{documents:a.documents.length>0?[].concat(Object(y.a)(r),[t]):[t]}).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),je=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.put("http://66.97.43.140:4000/properties/".concat(a._id),{documents:Object(y.a)(a.documents.filter((function(e){return e._id!==t})))}).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("name",t.name),r.append("description",t.description),r.append("documents",t.files),c=n.find((function(e){return e._id===a})),e.next=7,Q.a.post("http://66.97.43.140:4000/documents",r).then((function(e){if(201===e.status||200===e.status){Object(T.a)("Documento agregado correctamente","Has agregado un nuevo documento","success");var t=n.map((function(e){return e._id===a?c:e}));ve(e.data[0]._id,c),c.documents=[].concat(Object(y.a)(c.documents),[e.data[0]]),o(t)}})).catch((function(e){Object(T.a)("Error al agregar el documento","Ocurri\xf3 un error intentado agregar el documento","error")}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ye=function(){var e=Object(_.a)(x.a.mark((function e(t,a,r){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.find((function(e){return e._id===r})),e.next=3,Q.a.put("http://66.97.43.140:4000/documents/".concat(a),t).then((function(e){if(200===e.status){Object(T.a)("Documento editado correctamente","Has editado un documento","success"),c.documents=[].concat(Object(y.a)(c.documents.filter((function(e){return e._id!==a}))),[e.data]);var t=n.map((function(e){return e._id===r?c:e}));o(t)}})).catch((function(e){Object(T.a)("Error al editar el documento","Ocurri\xf3 un error intentado editar el documento","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/documents/".concat(t)).then((function(e){if(200===e.status||201===e.status){Object(T.a)("Documento eliminado correctamente","Has eliminado un documento","success");var r=n.map((function(e){return e._id===a._id?a:e}));a.documents=a.documents.filter((function(e){return e._id!==t})),o(r),je(t,a)}})).catch((function(e){Object(T.a)("Error al eliminar el documento","Ocurri\xf3 un error intentado eliminar el documento","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(p.jsx)(S.a.Provider,{value:{properties:n,fetchProperties:G,setProperties:o,addressToAdd:u,setAddressToAdd:s,addProperty:V,addAddress:X,deleteProperty:K,deletePost:ne,addPost:ee,getPostsByProperty:ae,posts:f,editAddress:J,addresses:b,addFeature:oe,featuresProperty:j,getFeaturesByProperty:pe,addMedia:le,addDetailsToProperty:Z,deleteFeature:se,editFeature:ce,editPost:re,deleteMedia:fe,changeInventoryStatus:he,addVirtualTourToProperty:$,imagesPendingToAddForPost:M,setImagesPendingToAddForPost:z,changeReviewStatus:be,addSurfaceToProperty:De,changeOrderMediaFromProperty:we,addDocument:Oe,editDocument:ye,deleteDocument:Ae,changePostIsFeature:ie,propertiesAreLoading:C,postsAreLoading:R,imagesAreLoading:q},children:e.children})},M=a(66),z=function(e){var t=Object(r.useState)("Usuario"),a=Object(k.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(""),i=Object(k.a)(c,2),u=i[0],s=i[1],d=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.post("http://66.97.43.140:4000/auth/signin",t).then((function(e){e.data.token?(sessionStorage.setItem("token",e.data.token),t.isAuthenticated=!0,l(t.username)):t.isAuthenticated=!1})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("http://66.97.43.140:4000/users/").then((function(e){var a=e.data.find((function(e){return e.username===t}));sessionStorage.setItem("userLoggedName",a.name.split(" ")[0]),sessionStorage.setItem("userLoggedUserName",a.username);var r=[];a.roles&&a.roles.map((function(e){r.push(e.name)})),sessionStorage.setItem("userLoggedRoles",r),s(r),o(a.name.split(" ")[0])})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(M.a.Provider,{value:{authenticateUser:d,logOut:function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("userLoggedName"),sessionStorage.removeItem("userLoggedUserName"),sessionStorage.removeItem("userLoggedRoles")},getUser:l,userRealName:n,userRoles:u},children:e.children})},H=a(65),L=function(e){var t=Object(r.useState)([]),a=Object(k.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)([]),i=Object(k.a)(c,2),u=i[0],s=i[1],d=Object(r.useState)(!0),l=Object(k.a)(d,2),f=l[0],m=l[1];Object(r.useEffect)((function(){g(),D()}),[]);var g=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Q.a.get("http://66.97.43.140:4000/users").then((function(e){o(e.data),m(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1===t.roles&&(t.roles=[]),e.next=3,Q.a.post("http://66.97.43.140:4000/users",t).then((function(e){201!==e.status&&200!==e.status||(Object(T.a)("Usuario agregado correctamente","Has agregado un nuevo usuario","success"),o([].concat(Object(y.a)(n),[e.data])),g())})).catch((function(e){Object(T.a)("Error agregando usuario","Ocurri\xf3 un error intentado agregar al usuario","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(_.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1===t.roles&&(t.roles=[]),!1===t.editPassword&&delete t.password,e.next=4,Q.a.put("http://66.97.43.140:4000/users/".concat(a),t).then((function(e){200!==e.status&&201!==e.status||(Object(T.a)("Usuario editado correctamente","Has editado un usuario","success"),t.username==sessionStorage.getItem("userLoggedUserName")&&Object(T.a)("El usuario que editaste es el mismo que est\xe1s usando","Para ver reflejados los cambios deber\xe1s volver a iniciar sesi\xf3n","warning",7e3),o([].concat(Object(y.a)(n.filter((function(e){return e._id!==a}))),[e.data])))})).catch((function(e){Object(T.a)("Error al editar usuario","Ocurri\xf3 un error intentado editar el usuario","error")}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/users/".concat(t)).then((function(e){200!==e.status&&201!==e.status||(Object(T.a)("Usuario eliminado correctamente","Has eliminado un usuario","success"),o(n.filter((function(t){return t._id!==e.data._id}))))})).catch((function(e){Object(T.a)("Error al eliminar el usuario","Ocurri\xf3 un error intentado eliminar el usuario","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("http://66.97.43.140:4000/roles").then((function(e){s(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(H.a.Provider,{value:{fetchUsers:g,users:n,addUser:h,editUser:b,deleteUser:w,roles:u,usersAreLoading:f},children:e.children})},C=a(47),Y=function(e){var t=Object(r.useContext)(S.a).properties,a=Object(r.useState)([]),n=Object(k.a)(a,2),o=n[0],c=n[1],i=Object(r.useState)([]),u=Object(k.a)(i,2),s=u[0],d=u[1],l=Object(r.useState)(!0),f=Object(k.a)(l,2),m=f[0],g=f[1];Object(r.useEffect)((function(){h()}),[]);var h=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Q.a.get("http://66.97.43.140:4000/customers").then((function(e){c(e.data),g(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(_.a)(x.a.mark((function e(a,r){var n,i,u,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],i=[],null!==a.ownerProperties&&void 0!==a.ownerProperties&&a.ownerProperties.length>0&&(u=[],a.ownerProperties.map((function(e){var a=t.find((function(t){return t.internalCode===e}));a&&(u.push(a._id),n.push(a))})),a.ownerProperties=u),null!==a.tenantProperties&&void 0!==a.tenantProperties&&a.tenantProperties.length>0&&(s=[],a.tenantProperties.map((function(e){var a=t.find((function(t){return t.internalCode===e}));a&&(s.push(a._id),i.push(a))})),a.tenantProperties=s),e.next=6,Q.a.post("http://66.97.43.140:4000/customers",a).then((function(e){return 201===e.status?(Object(T.a)("Cliente agregado correctamente","Has agregado un nuevo cliente","success"),e.data.ownerProperties=n,e.data.tenantProperties=i,c([].concat(Object(y.a)(o),[e.data]))):null})).catch((function(e){Object(T.a)("Error al agregar el cliente","Ocurri\xf3 un error intentado agregar el cliente","error")}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(_.a)(x.a.mark((function e(a,r){var n,i,u,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],i=[],null!==a.ownerProperties&&void 0!==a.ownerProperties&&a.ownerProperties.length>0&&(u=[],a.ownerProperties.map((function(e){var a=t.find((function(t){return t.internalCode===e}));a&&(u.push(a._id),n.push(a))})),a.ownerProperties=u),null!==a.tenantProperties&&void 0!==a.tenantProperties&&a.tenantProperties.length>0&&(s=[],a.tenantProperties.map((function(e){var a=t.find((function(t){return t.internalCode===e}));a&&(s.push(a._id),i.push(a))})),a.tenantProperties=s),e.next=6,Q.a.put("http://66.97.43.140:4000/customers/".concat(r),a).then((function(e){200!==e.status&&201!==e.status||(Object(T.a)("Cliente editado correctamente","Has editado un cliente","success"),e.data.ownerProperties=n,e.data.tenantProperties=i,c([].concat(Object(y.a)(o.filter((function(e){return e._id!==r}))),[e.data])))})).catch((function(e){Object(T.a)("Error al editar el cliente","Ocurri\xf3 un error intentado editar el cliente","error")}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.delete("http://66.97.43.140:4000/customers/".concat(t._id)).then((function(e){return 200===e.status?(Object(T.a)("Cliente eliminado correctamente","Has eliminado un cliente","success"),c(o.filter((function(t){return t._id!==e.data._id})))):null})).catch((function(e){Object(T.a)("Error al eliminar el cliente","Ocurri\xf3 un error intentado eliminar el cliente","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(C.a.Provider,{value:{fetchCustomers:h,setCustomers:c,customers:o,addCustomer:b,editCustomer:w,deleteCustomer:D,associatedPropertiesPendingToAdd:s,setAssociatedPropertiesPendingToAdd:d,customersAreLoading:m},children:e.children})},W=a(78),F=function(e){var t=Object(r.useContext)(C.a).customers,a=Object(r.useState)([]),n=Object(k.a)(a,2),o=n[0],c=n[1],i=Object(r.useState)([]),u=Object(k.a)(i,2),s=u[0],d=u[1],l=Object(r.useState)([]),f=Object(k.a)(l,2),m=f[0],g=f[1],h=Object(r.useState)({}),b=Object(k.a)(h,2);b[0],b[1];Object(r.useEffect)((function(){v(),j(),O()}),[]);var w=function(e,t){return 0==t||Number.isNaN(e/t)?0:D(e/t)},D=function(e){return null===e||void 0===e?0:(100*e).toPrecision(2)-100},v=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("http://66.97.43.140:4000/properties").then((function(e){c(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("http://66.97.43.140:4000/inventories").then((function(e){d(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(_.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("http://66.97.43.140:4000/posts").then((function(e){g(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),r=new Date((new Date).setDate((new Date).getDate()-730)),n=0,c=0,i=0,u=0;return o.forEach((function(o){null!=o.saleDate&&(o.saleDate=new Date(o.saleDate),o.saleDate.setHours(0,0,0,0),o.saleDate.getTime()==e.getTime()?n++:o.saleDate>t?c++:o.saleDate>a?i++:o.saleDate>r&&u++)})),{yesterdayQuantity:n,twoWeekAgoQuantity:c,twoMonthsAgoQuantity:i,twoYearsAgoQuantity:u}},A=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),r=new Date((new Date).setDate((new Date).getDate()-730)),n=0,c=0,i=0,u=0;return o.forEach((function(o){null!=o.rentDate&&(o.rentDate=new Date(o.rentDate),o.rentDate.setHours(0,0,0,0),o.rentDate.getTime()==e.getTime()?n++:o.rentDate>t?c++:o.rentDate>a?i++:o.rentDate>r&&u++)})),{yesterdayQuantity:n,twoWeekAgoQuantity:c,twoMonthsAgoQuantity:i,twoYearsAgoQuantity:u}},P=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),r=new Date((new Date).setDate((new Date).getDate()-730)),n=0,o=0,c=0,i=0;return s.forEach((function(u){null!=u.createdAt&&(u.createdAt=new Date(u.createdAt),u.createdAt.setHours(0,0,0,0),u.createdAt.getTime()==e.getTime()?n++:u.createdAt>t?o++:u.createdAt>a?c++:u.createdAt>r&&i++)})),{yesterdayQuantity:n,twoWeekAgoQuantity:o,twoMonthsAgoQuantity:c,twoYearsAgoQuantity:i}},T=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),r=new Date((new Date).setDate((new Date).getDate()-730)),n=0,c=0,i=0,u=0;return o.forEach((function(o){null!=o.createdAt&&(o.createdAt=new Date(o.createdAt),o.createdAt.setHours(0,0,0,0),o.createdAt.getTime()==e.getTime()?n++:o.createdAt>t?c++:o.createdAt>a?i++:o.createdAt>r&&u++)})),{yesterdayQuantity:n,twoWeekAgoQuantity:c,twoMonthsAgoQuantity:i,twoYearsAgoQuantity:u}},S=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var a=new Date((new Date).setDate((new Date).getDate()-14)),r=new Date((new Date).setDate((new Date).getDate()-60)),n=new Date((new Date).setDate((new Date).getDate()-730)),o=0,c=0,i=0,u=0;return t.forEach((function(t){null!=t.createdAt&&(t.createdAt=new Date(t.createdAt),t.createdAt.setHours(0,0,0,0),t.createdAt.getTime()==e.getTime()?o++:t.createdAt>a?c++:t.createdAt>r?i++:t.createdAt>n&&u++)})),{yesterdayQuantity:o,twoWeekAgoQuantity:c,twoMonthsAgoQuantity:i,twoYearsAgoQuantity:u}},E=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),r=new Date((new Date).setDate((new Date).getDate()-730)),n=0,o=0,c=0,i=0;return m.forEach((function(u){null!=u.createdAt&&(u.createdAt=new Date(u.createdAt),u.createdAt.setHours(0,0,0,0),u.createdAt.getTime()==e.getTime()?n++:u.createdAt>t?o++:u.createdAt>a?c++:u.createdAt>r&&i++)})),{yesterdayQuantity:n,twoWeekAgoQuantity:o,twoMonthsAgoQuantity:c,twoYearsAgoQuantity:i}},M=function(){var e=new Date((new Date).setDate((new Date).getDate()-1));e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-14)),a=new Date((new Date).setDate((new Date).getDate()-60)),r=new Date((new Date).setDate((new Date).getDate()-730)),n=0,o=0,c=0,i=0;return m.forEach((function(u){if("Pendiente"!=u.status[0]&&1==u.isForRent&&1==u.isForSale){var s=new Date(u.startDate);s.setHours(0,0,0,0);var d=new Date(u.endDate);d.setHours(0,0,0,0);for(var p=!1,l=!1,f=!1,m=!1,g=0;s<=d;g++)s.getDay()==e.getDay()?p=!0:s>t?l=!0:s>a?f=!0:s>r&&(m=!0),s.setDate(s.getDate()+1);n=1==p?n+1:n,o=1==l?o+1:o,c=1==f?c+1:c,i=1==m?i+1:i,p=!1,l=!1,f=!1,m=!1}})),{yesterdayQuantity:n,twoWeekAgoQuantity:o,twoMonthsAgoQuantity:c,twoYearsAgoQuantity:i}};return Object(p.jsx)(W.a.Provider,{value:{getPropertyWithLargestArea:function(){return o.filter((function(e){return e.totalSurface})).sort((function(e,t){return t.totalSurface-e.totalSurface}))[0]},getPropertyWithLessArea:function(){return o.filter((function(e){return e.totalSurface})).sort((function(e,t){return e.totalSurface-t.totalSurface}))[0]},getCustomerWithMoreProperties:function(){return t.sort((function(e,t){return t.ownerProperties.length+t.tenantProperties.length-(e.ownerProperties.length+e.tenantProperties.length)}))[0]},getRentedProperties:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),r=new Date((new Date).setDate((new Date).getDate()-365)),n=0,c=0,i=0,u=0;o.forEach((function(o){null!=o.rentDate&&(o.rentDate=new Date(o.rentDate),o.rentDate.setHours(0,0,0,0),o.rentDate.getTime()==e.getTime()?n++:o.rentDate>t?c++:o.rentDate>a?i++:o.rentDate>r&&u++)}));var s=A(),d=w(n,s.yesterdayQuantity),p=w(c,s.twoWeekAgoQuantity),l=w(i,s.twoMonthsAgoQuantity),f=w(u,s.twoYearsAgoQuantity);return{todayQuantity:n,lastWeekQuantity:c,lastMonthQuantity:i,lastYearQuantity:u,percentageTodayYesterday:d,percentageLastWeekTwoWeekAgo:p,percentageLastMonthTwoMonthAgo:l,percentageLastYearTwoYearsAgo:f}},getSoldProperties:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),r=new Date((new Date).setDate((new Date).getDate()-365)),n=0,c=0,i=0,u=0;o.forEach((function(o){null!=o.saleDate&&(o.saleDate=new Date(o.saleDate),o.saleDate.setHours(0,0,0,0),o.saleDate.getTime()==e.getTime()?n++:o.saleDate>t?c++:o.saleDate>a?i++:o.saleDate>r&&u++)}));var s=y(),d=w(n,s.yesterdayQuantity),p=w(c,s.twoWeekAgoQuantity),l=w(i,s.twoMonthsAgoQuantity),f=w(u,s.twoYearsAgoQuantity);return{todayQuantity:n,lastWeekQuantity:c,lastMonthQuantity:i,lastYearQuantity:u,percentageTodayYesterday:d,percentageLastWeekTwoWeekAgo:p,percentageLastMonthTwoMonthAgo:l,percentageLastYearTwoYearsAgo:f}},getAvailableProperties:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),r=new Date((new Date).setDate((new Date).getDate()-365)),n=0,o=0,c=0,i=0;m.forEach((function(u){if("Pendiente"!=u.status[0]&&1==u.isForRent&&1==u.isForSale){var s=new Date(u.startDate);s.setHours(0,0,0,0);var d=new Date(u.endDate);d.setHours(0,0,0,0);for(var p=!1,l=!1,f=!1,m=!1,g=0;s<=d;g++)s.getTime()==e.getTime()?p=!0:s>t?l=!0:s>a?f=!0:s>r&&(m=!0),s.setDate(s.getDate()+1);n=1==p?n+1:n,o=1==l?o+1:o,c=1==f?c+1:c,i=1==m?i+1:i,p=!1,l=!1,f=!1,m=!1}}));var u=M(),s=w(n,u.yesterdayQuantity),d=w(o,u.twoWeekAgoQuantity),p=w(c,u.twoMonthsAgoQuantity),l=w(i,u.twoYearsAgoQuantity);return{todayQuantity:n,lastWeekQuantity:o,lastMonthQuantity:c,lastYearQuantity:i,percentageTodayYesterday:s,percentageLastWeekTwoWeekAgo:d,percentageLastMonthTwoMonthAgo:p,percentageLastYearTwoYearsAgo:l}},getInventories:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),r=new Date((new Date).setDate((new Date).getDate()-365)),n=0,o=0,c=0,i=0;s.forEach((function(u){null!=u.createdAt&&(u.createdAt=new Date(u.createdAt),u.createdAt.setHours(0,0,0,0),u.createdAt.getTime()==e.getTime()?n++:u.createdAt>t?o++:u.createdAt>a?c++:u.createdAt>r&&i++)}));var u=P(),d=w(n,u.yesterdayQuantity),p=w(o,u.twoWeekAgoQuantity),l=w(c,u.twoMonthsAgoQuantity),f=w(i,u.twoYearsAgoQuantity);return{todayQuantity:n,lastWeekQuantity:o,lastMonthQuantity:c,lastYearQuantity:i,percentageTodayYesterday:d,percentageLastWeekTwoWeekAgo:p,percentageLastMonthTwoMonthAgo:l,percentageLastYearTwoYearsAgo:f}},getPosts:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),r=new Date((new Date).setDate((new Date).getDate()-365)),n=0,o=0,c=0,i=0;m.forEach((function(u){null!=u.createdAt&&(u.createdAt=new Date(u.createdAt),u.createdAt.setHours(0,0,0,0),u.createdAt.getTime()==e.getTime()?n++:u.createdAt>t?o++:u.createdAt>a?c++:u.createdAt>r&&i++)}));var u=E(),s=w(n,u.yesterdayQuantity),d=w(o,u.twoWeekAgoQuantity),p=w(c,u.twoMonthsAgoQuantity),l=w(i,u.twoYearsAgoQuantity);return{todayQuantity:n,lastWeekQuantity:o,lastMonthQuantity:c,lastYearQuantity:i,percentageTodayYesterday:s,percentageLastWeekTwoWeekAgo:d,percentageLastMonthTwoMonthAgo:p,percentageLastYearTwoYearsAgo:l}},getNewProperties:function(){var e=new Date;e.setHours(0,0,0,0);var t=new Date((new Date).setDate((new Date).getDate()-7)),a=new Date((new Date).setDate((new Date).getDate()-30)),r=new Date((new Date).setDate((new Date).getDate()-365)),n=0,c=0,i=0,u=0;o.forEach((function(o){null!=o.createdAt&&(o.createdAt=new Date(o.createdAt),o.createdAt.setHours(0,0,0,0),o.createdAt.getTime()==e.getTime()?n++:o.createdAt>t?c++:o.createdAt>a?i++:o.createdAt>r&&u++)}));var s=T(),d=w(n,s.yesterdayQuantity),p=w(c,s.twoWeekAgoQuantity),l=w(i,s.twoMonthsAgoQuantity),f=w(u,s.twoYearsAgoQuantity);return{todayQuantity:n,lastWeekQuantity:c,lastMonthQuantity:i,lastYearQuantity:u,percentageTodayYesterday:d,percentageLastWeekTwoWeekAgo:p,percentageLastMonthTwoMonthAgo:l,percentageLastYearTwoYearsAgo:f}},getNewCustomers:function(){var e=new Date;e.setHours(0,0,0,0);var a=new Date((new Date).setDate((new Date).getDate()-7)),r=new Date((new Date).setDate((new Date).getDate()-30)),n=new Date((new Date).setDate((new Date).getDate()-365)),o=0,c=0,i=0,u=0;t.forEach((function(t){null!=t.createdAt&&(t.createdAt=new Date(t.createdAt),t.createdAt.setHours(0,0,0,0),t.createdAt.getTime()==e.getTime()?o++:t.createdAt>a?c++:t.createdAt>r?i++:t.createdAt>n&&u++)}));var s=S(),d=w(o,s.yesterdayQuantity),p=w(c,s.twoWeekAgoQuantity),l=w(i,s.twoMonthsAgoQuantity),f=w(u,s.twoYearsAgoQuantity);return{todayQuantity:o,lastWeekQuantity:c,lastMonthQuantity:i,lastYearQuantity:u,percentageTodayYesterday:d,percentageLastWeekTwoWeekAgo:p,percentageLastMonthTwoMonthAgo:l,percentageLastYearTwoYearsAgo:f}},getCustomersWithoutProperties:function(){var e=[];return t.forEach((function(t){return t.ownerProperties.length+t.tenantProperties.length===0?e.push(t):null})),e},propertiesFromDB:o},children:e.children})};c.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(i.a,{theme:j.a,children:Object(p.jsx)(E,{children:Object(p.jsx)(z,{children:Object(p.jsx)(L,{children:Object(p.jsx)(Y,{children:Object(p.jsx)(F,{children:Object(p.jsx)(v,{})})})})})})})}),document.getElementById("root"))},46:function(e,t,a){"use strict";var r=a(0),n=Object(r.createContext)({});t.a=n},47:function(e,t,a){"use strict";var r=a(0),n=Object(r.createContext)({});t.a=n},5:function(e,t,a){"use strict";a(0);var r=a(62),n=a(54),o=a(6);t.a=function(e,t,a,c){return Object(r.a)({theme:n.a})({title:e,description:t,status:a,duration:c||4e3,position:"bottom",isClosable:!0}),Object(o.jsx)(o.Fragment,{})}},54:function(e,t,a){"use strict";var r=a(37),n=Object(r.b)({config:{},styles:{global:function(e){return{body:{}}}},colors:{defaultColor:{50:"#E6E9F0",100:"#C1C7D9",200:"#98A2C0",300:"#6E7DA6",400:"#4F6193",500:"#304580",600:"#2B3E78",700:"#24366D",800:"#1E2E63",900:"#131F50"}},components:{Button:{variants:{solid:function(e){return{}},color:{_hover:{bg:"#564A95"},_active:{bg:"#564A95"}},"add-button":{bg:"defaultColor.500",_hover:{bg:"defaultColor.400"},color:"#fff"},"add-button-dark":{bg:"defaultColor.500",_hover:{bg:"defaultColor.700"},color:"#fff"},"add-button-clear":{bg:"defaultColor.300",_hover:{bg:"defaultColor.200"},color:"#fff"},"confirm-add-button":{bg:"defaultColor.300",_hover:{bg:"defaultColor.200"},color:"#fff"},"delete-button":{bg:"#d63031",color:"#fff",_hover:{bg:"#f05657"}},"cancel-action":{border:"2px solid #cbd5e0",color:"#fff",_hover:{bg:"rgba(0, 0, 0, 0.20)"}},"cancel-action-black":{border:"2px solid #cbd5e0",color:"#000",_hover:{bg:"rgba(0, 0, 0, 0.20)"}},"reports-button":{bg:"defaultColor.400",_hover:{bg:"defaultColor.300"},color:"#fff"}}},Badge:{variants:{"required-error":{rounded:"md",px:"3",py:"0.5",w:"100%",mt:"1.5",textAlign:"center",bg:"#9E6A72",color:"#fff"},"required-warning":{rounded:"md",px:"3",py:"0.5",w:"100%",mt:"1.5",textAlign:"center",bg:"#e17055",color:"#fff"}}},Tooltip:{baseStyle:{borderRadius:"5px",fontSize:"13px"}}}});t.a=n},65:function(e,t,a){"use strict";var r=a(0),n=Object(r.createContext)({});t.a=n},66:function(e,t,a){"use strict";var r=a(0),n=Object(r.createContext)({});t.a=n},78:function(e,t,a){"use strict";var r=a(0),n=Object(r.createContext)({});t.a=n}},[[147,6,7]]]);
//# sourceMappingURL=main.dcbdc812.chunk.js.map