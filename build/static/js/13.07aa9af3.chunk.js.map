{"version":3,"sources":["assets/ir-logo.png","pages/Login.jsx","../node_modules/@chakra-ui/image/dist/chakra-ui-image.esm.js"],"names":["Login","useContext","AuthContext","authenticateUser","logOut","useState","showPassword","setShowPassword","showCredentialError","setShowCredentialError","navigate","useNavigate","token","sessionStorage","getItem","useEffect","useForm","register","handleSubmit","errors","formState","handleLogin","data","a","isAuthenticated","h","display","justifyContent","alignItems","border","p","px","maxW","w","borderWidth","borderRadius","overflow","src","Logo","_hover","transition","transform","loading","onSubmit","spacing","py","onKeyUp","id","autoComplete","required","autoFocus","placeholder","username","variant","message","size","type","width","boxShadow","bg","mr","color","onClick","fontSize","password","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_excluded","_excluded2","NativeImage","React","props","ref","htmlWidth","htmlHeight","alt","rest","height","Image$1","forwardRef","fallbackSrc","fallback","srcSet","align","fit","ignoreFallback","crossOrigin","shouldIgnore","undefined","status","onLoad","onError","sizes","_useState","setStatus","imageRef","useRef","load","useCallback","flush","img","Image","srcset","onload","event","onerror","error","current","useSafeLayoutEffect","useImage","shared","objectFit","objectPosition","omit","chakra","as","className","__DEV__","displayName"],"mappings":"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","file":"static/js/13.07aa9af3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/ir-logo.e0c8482a.png\";","import React, { useState, useContext, useEffect } from \"react\";\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Image,\r\n  Input,\r\n  InputGroup,\r\n  InputRightElement,\r\n  VStack,\r\n} from \"@chakra-ui/react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ImEye, ImEyeBlocked } from \"react-icons/im\";\r\nimport AuthContext from \"../context/Auth/AuthContext\";\r\nimport Logo from \"../assets/ir-logo.png\";\r\n\r\nconst Login = () => {\r\n  const { authenticateUser, logOut } = useContext(AuthContext);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showCredentialError, setShowCredentialError] = useState(false);\r\n  const handleClick = () => setShowPassword(!showPassword);\r\n  const navigate = useNavigate();\r\n  const login = () => {\r\n    navigate(\"/propiedades\");\r\n  };\r\n  const token = sessionStorage.getItem(\"token\");\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      logOut();\r\n    }\r\n  }, []);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const handleLogin = async (data) => {\r\n    await authenticateUser(data);\r\n    if (data.isAuthenticated) {\r\n      login();\r\n    } else {\r\n      setShowCredentialError(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box h=\"100vh\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\r\n        <Box\r\n          border=\"2px solid #cacaca !important\"\r\n          p=\"4\"\r\n          px=\"8\"\r\n          maxW=\"md\"\r\n          w='md'\r\n          borderWidth=\"1px\"\r\n          borderRadius=\"lg\"\r\n          overflow=\"hidden\"\r\n        >\r\n          <Box display='flex' justifyContent='center'>\r\n            <Image\r\n              src={Logo}\r\n              _hover={{\r\n                transition: \"transform .2s\",\r\n                transform: \"scale(0.98)\",\r\n              }}\r\n              p=\"10\"\r\n              w=\"350px\"\r\n              loading=\"lazy\"\r\n            />\r\n          </Box>\r\n          <form onSubmit={handleSubmit(handleLogin)}>\r\n            <VStack spacing=\"14px\" px=\"4\" py=\"4\">\r\n              <Box w=\"100%\">\r\n                <Input\r\n                  onKeyUp={() => setShowCredentialError(false)}\r\n                  id=\"username\"\r\n                  autoComplete=\"username\"\r\n                  {...register(\"username\", {\r\n                    required: \" El nombre de usuario es requerido.\",\r\n                  })}\r\n                  autoFocus\r\n                  border=\"2px solid #cacaca\"\r\n                  placeholder=\"Ingresa tu nombre de usuario\"\r\n                />\r\n                {errors.username && (\r\n                  <Badge variant=\"required-error\">\r\n                    {errors.username.message}\r\n                  </Badge>\r\n                )}\r\n              </Box>\r\n              <Box w=\"100%\">\r\n                <InputGroup size=\"md\">\r\n                  <Input\r\n                    onKeyUp={() => setShowCredentialError(false)}\r\n                    id=\"current-password\"\r\n                    autoComplete=\"current-password\"\r\n                    {...register(\"password\", {\r\n                      required: \"La contraseña es requerida.\",\r\n                    })}\r\n                    border=\"2px solid #cacaca\"\r\n                    placeholder=\"Ingresa tu contraseña\"\r\n                    type={showPassword ? \"text\" : \"password\"}\r\n                  />\r\n                  <InputRightElement width=\"4.5rem\">\r\n                    <Button\r\n                      _hover={{ boxShadow: \"none\", bg: \"defaultColor.50\" }}\r\n                      h=\"1.75rem\"\r\n                      mr=\"-5\"\r\n                      bg=\"none\"\r\n                      color=\"defaultColor.500\"\r\n                      size=\"sm\"\r\n                      onClick={handleClick}\r\n                    >\r\n                      {showPassword ? (\r\n                        <ImEyeBlocked fontSize=\"18px\" />\r\n                      ) : (\r\n                        <ImEye fontSize=\"18px\" />\r\n                      )}\r\n                    </Button>\r\n                  </InputRightElement>\r\n                </InputGroup>\r\n                {errors.password && (\r\n                  <Badge variant=\"required-error\">\r\n                    {errors.password.message}\r\n                  </Badge>\r\n                )}\r\n              </Box>\r\n              {showCredentialError && (\r\n                <Badge variant=\"required-error\">\r\n                  Nombre de usuario o contraseña incorrectos.\r\n                </Badge>\r\n              )}\r\n              <Button type=\"submit\" variant=\"add-button\" w=\"100%\" color=\"#fff\">\r\n                Acceder\r\n              </Button>\r\n            </VStack>\r\n          </form>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { forwardRef, chakra } from '@chakra-ui/system';\nimport { omit, __DEV__ } from '@chakra-ui/utils';\nimport * as React from 'react';\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport { useSafeLayoutEffect } from '@chakra-ui/hooks';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\n/**\n * React hook that loads an image in the browser,\n * and let's us know the `status` so we can show image\n * fallback if it is still `pending`\n *\n * @returns the status of the image loading progress\n *\n * @example\n *\n * ```jsx\n * function App(){\n *   const status = useImage({ src: \"image.png\" })\n *   return status === \"loaded\" ? <img src=\"image.png\" /> : <Placeholder />\n * }\n * ```\n */\nfunction useImage(props) {\n  var loading = props.loading,\n      src = props.src,\n      srcSet = props.srcSet,\n      onLoad = props.onLoad,\n      onError = props.onError,\n      crossOrigin = props.crossOrigin,\n      sizes = props.sizes,\n      ignoreFallback = props.ignoreFallback;\n\n  var _useState = useState(\"pending\"),\n      status = _useState[0],\n      setStatus = _useState[1];\n\n  useEffect(function () {\n    setStatus(src ? \"loading\" : \"pending\");\n  }, [src]);\n  var imageRef = useRef();\n  var load = useCallback(function () {\n    if (!src) return;\n    flush();\n    var img = new Image();\n    img.src = src;\n    if (crossOrigin) img.crossOrigin = crossOrigin;\n    if (srcSet) img.srcset = srcSet;\n    if (sizes) img.sizes = sizes;\n    if (loading) img.loading = loading;\n\n    img.onload = function (event) {\n      flush();\n      setStatus(\"loaded\");\n      onLoad == null ? void 0 : onLoad(event);\n    };\n\n    img.onerror = function (error) {\n      flush();\n      setStatus(\"failed\");\n      onError == null ? void 0 : onError(error);\n    };\n\n    imageRef.current = img;\n  }, [src, crossOrigin, srcSet, sizes, onLoad, onError, loading]);\n\n  var flush = function flush() {\n    if (imageRef.current) {\n      imageRef.current.onload = null;\n      imageRef.current.onerror = null;\n      imageRef.current = null;\n    }\n  };\n\n  useSafeLayoutEffect(function () {\n    /**\n     * If user opts out of the fallback/placeholder\n     * logic, let's bail out.\n     */\n    if (ignoreFallback) return undefined;\n\n    if (status === \"loading\") {\n      load();\n    }\n\n    return function () {\n      flush();\n    };\n  }, [status, load, ignoreFallback]);\n  /**\n   * If user opts out of the fallback/placeholder\n   * logic, let's just return 'loaded'\n   */\n\n  return ignoreFallback ? \"loaded\" : status;\n}\n\nvar _excluded = [\"htmlWidth\", \"htmlHeight\", \"alt\"],\n    _excluded2 = [\"fallbackSrc\", \"fallback\", \"src\", \"srcSet\", \"align\", \"fit\", \"loading\", \"ignoreFallback\", \"crossOrigin\"];\nvar NativeImage = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var htmlWidth = props.htmlWidth,\n      htmlHeight = props.htmlHeight,\n      alt = props.alt,\n      rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"img\", _extends({\n    width: htmlWidth,\n    height: htmlHeight,\n    ref: ref,\n    alt: alt\n  }, rest));\n});\n\n/**\n * React component that renders an image with support\n * for fallbacks\n *\n * @see Docs https://chakra-ui.com/image\n */\nvar Image$1 = /*#__PURE__*/forwardRef(function (props, ref) {\n  var fallbackSrc = props.fallbackSrc,\n      fallback = props.fallback,\n      src = props.src,\n      srcSet = props.srcSet,\n      align = props.align,\n      fit = props.fit,\n      loading = props.loading,\n      ignoreFallback = props.ignoreFallback,\n      crossOrigin = props.crossOrigin,\n      rest = _objectWithoutPropertiesLoose(props, _excluded2);\n  /**\n   * Defer to native `img` tag if `loading` prop is passed\n   * @see https://github.com/chakra-ui/chakra-ui/issues/1027\n   */\n\n\n  var shouldIgnore = loading != null || ignoreFallback || fallbackSrc === undefined && fallback === undefined; // if the user doesn't provide any kind of fallback we should ignore it\n\n  var status = useImage(_extends({}, props, {\n    ignoreFallback: shouldIgnore\n  }));\n\n  var shared = _extends({\n    ref: ref,\n    objectFit: fit,\n    objectPosition: align\n  }, shouldIgnore ? rest : omit(rest, [\"onError\", \"onLoad\"]));\n\n  if (status !== \"loaded\") {\n    /**\n     * If user passed a custom fallback component,\n     * let's render it here.\n     */\n    if (fallback) return fallback;\n    return /*#__PURE__*/React.createElement(chakra.img, _extends({\n      as: NativeImage,\n      className: \"chakra-image__placeholder\",\n      src: fallbackSrc\n    }, shared));\n  }\n\n  return /*#__PURE__*/React.createElement(chakra.img, _extends({\n    as: NativeImage,\n    src: src,\n    srcSet: srcSet,\n    crossOrigin: crossOrigin,\n    loading: loading,\n    className: \"chakra-image\"\n  }, shared));\n});\n\n/**\n * Fallback component for most SSR users who want to use the native `img` with\n * support for chakra props\n */\nvar Img = /*#__PURE__*/forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(chakra.img, _extends({\n    ref: ref,\n    as: NativeImage,\n    className: \"chakra-image\"\n  }, props));\n});\n\nif (__DEV__) {\n  Image$1.displayName = \"Image\";\n}\n\nexport { Image$1 as Image, Img, useImage };\n"],"sourceRoot":""}